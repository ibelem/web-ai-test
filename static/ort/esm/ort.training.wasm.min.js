/*!
 * ONNX Runtime Web v1.18.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var br=Object.defineProperty;var ja=Object.getOwnPropertyDescriptor;var Ya=Object.getOwnPropertyNames;var Va=Object.prototype.hasOwnProperty;var $=(n,r)=>()=>(n&&(r=n(n=0)),r);var it=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),Tt=(n,r)=>{for(var t in r)br(n,t,{get:r[t],enumerable:!0})},qa=(n,r,t,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Ya(r))!Va.call(n,a)&&a!==t&&br(n,a,{get:()=>r[a],enumerable:!(u=ja(r,a))||u.enumerable});return n};var ut=n=>qa(br({},"__esModule",{value:!0}),n);var Wt,Ve,_t,Gt,$t=$(()=>{"use strict";Wt=new Map,Ve=[],_t=(n,r,t)=>{if(r&&typeof r.init=="function"&&typeof r.createInferenceSessionHandler=="function"){let u=Wt.get(n);if(u===void 0)Wt.set(n,{backend:r,priority:t});else{if(u.priority>t)return;if(u.priority===t&&u.backend!==r)throw new Error(`cannot register backend "${n}" using priority ${t}`)}if(t>=0){let a=Ve.indexOf(n);a!==-1&&Ve.splice(a,1);for(let d=0;d<Ve.length;d++)if(Wt.get(Ve[d]).priority<=t){Ve.splice(d,0,n);return}Ve.push(n)}return}throw new TypeError("not a valid backend")},Gt=async n=>{let r=n.length===0?Ve:n,t=[];for(let u of r){let a=Wt.get(u);if(a){if(a.initialized)return a.backend;if(a.aborted)continue;let d=!!a.initPromise;try{return d||(a.initPromise=a.backend.init(u)),await a.initPromise,a.initialized=!0,a.backend}catch(l){d||t.push({name:u,err:l}),a.aborted=!0}finally{delete a.initPromise}}}throw new Error(`no available backend found. ERR: ${t.map(u=>`[${u.name}] ${u.err}`).join(", ")}`)}});var bn=$(()=>{"use strict";$t()});var On,vn=$(()=>{"use strict";On="1.18.0"});var Tn,qe,Or=$(()=>{"use strict";vn();Tn="warning",qe={wasm:{},webgl:{},webgpu:{},versions:{common:On},set logLevel(n){if(n!==void 0){if(typeof n!="string"||["verbose","info","warning","error","fatal"].indexOf(n)===-1)throw new Error(`Unsupported logging level: ${n}`);Tn=n}},get logLevel(){return Tn}};Object.defineProperty(qe,"logLevel",{enumerable:!0})});var V,_n=$(()=>{"use strict";Or();V=qe});var En,Sn,An=$(()=>{"use strict";En=(n,r)=>{let t=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);t.width=n.dims[3],t.height=n.dims[2];let u=t.getContext("2d");if(u!=null){let a,d;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(a=n.dims[2],d=n.dims[3]):(a=n.dims[3],d=n.dims[2]);let l=r?.format!==void 0?r.format:"RGB",s=r?.norm,h,m;s===void 0||s.mean===void 0?h=[255,255,255,255]:typeof s.mean=="number"?h=[s.mean,s.mean,s.mean,s.mean]:(h=[s.mean[0],s.mean[1],s.mean[2],0],s.mean[3]!==void 0&&(h[3]=s.mean[3])),s===void 0||s.bias===void 0?m=[0,0,0,0]:typeof s.bias=="number"?m=[s.bias,s.bias,s.bias,s.bias]:(m=[s.bias[0],s.bias[1],s.bias[2],0],s.bias[3]!==void 0&&(m[3]=s.bias[3]));let y=d*a,O=0,b=y,M=y*2,R=-1;l==="RGBA"?(O=0,b=y,M=y*2,R=y*3):l==="RGB"?(O=0,b=y,M=y*2):l==="RBG"&&(O=0,M=y,b=y*2);for(let A=0;A<d;A++)for(let S=0;S<a;S++){let U=(n.data[O++]-m[0])*h[0],k=(n.data[b++]-m[1])*h[1],L=(n.data[M++]-m[2])*h[2],G=R===-1?255:(n.data[R++]-m[3])*h[3];u.fillStyle="rgba("+U+","+k+","+L+","+G+")",u.fillRect(S,A,1,1)}if("toDataURL"in t)return t.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},Sn=(n,r)=>{let t=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),u;if(t!=null){let a,d,l;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(a=n.dims[2],d=n.dims[1],l=n.dims[3]):(a=n.dims[3],d=n.dims[2],l=n.dims[1]);let s=r!==void 0&&r.format!==void 0?r.format:"RGB",h=r?.norm,m,y;h===void 0||h.mean===void 0?m=[255,255,255,255]:typeof h.mean=="number"?m=[h.mean,h.mean,h.mean,h.mean]:(m=[h.mean[0],h.mean[1],h.mean[2],255],h.mean[3]!==void 0&&(m[3]=h.mean[3])),h===void 0||h.bias===void 0?y=[0,0,0,0]:typeof h.bias=="number"?y=[h.bias,h.bias,h.bias,h.bias]:(y=[h.bias[0],h.bias[1],h.bias[2],0],h.bias[3]!==void 0&&(y[3]=h.bias[3]));let O=d*a;if(r!==void 0&&(r.format!==void 0&&l===4&&r.format!=="RGBA"||l===3&&r.format!=="RGB"&&r.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let b=4,M=0,R=1,A=2,S=3,U=0,k=O,L=O*2,G=-1;s==="RGBA"?(U=0,k=O,L=O*2,G=O*3):s==="RGB"?(U=0,k=O,L=O*2):s==="RBG"&&(U=0,L=O,k=O*2),u=t.createImageData(a,d);for(let j=0;j<d*a;M+=b,R+=b,A+=b,S+=b,j++)u.data[M]=(n.data[U++]-y[0])*m[0],u.data[R]=(n.data[k++]-y[1])*m[1],u.data[A]=(n.data[L++]-y[2])*m[2],u.data[S]=G===-1?255:(n.data[G++]-y[3])*m[3]}else throw new Error("Can not access image data");return u}});var vr,Mn,Cn,Rn,Pn,xn=$(()=>{"use strict";zt();vr=(n,r)=>{if(n===void 0)throw new Error("Image buffer must be defined");if(r.height===void 0||r.width===void 0)throw new Error("Image height and width must be defined");if(r.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:t,width:u}=r,a=r.norm??{mean:255,bias:0},d,l;typeof a.mean=="number"?d=[a.mean,a.mean,a.mean,a.mean]:d=[a.mean[0],a.mean[1],a.mean[2],a.mean[3]??255],typeof a.bias=="number"?l=[a.bias,a.bias,a.bias,a.bias]:l=[a.bias[0],a.bias[1],a.bias[2],a.bias[3]??0];let s=r.format!==void 0?r.format:"RGBA",h=r.tensorFormat!==void 0&&r.tensorFormat!==void 0?r.tensorFormat:"RGB",m=t*u,y=h==="RGBA"?new Float32Array(m*4):new Float32Array(m*3),O=4,b=0,M=1,R=2,A=3,S=0,U=m,k=m*2,L=-1;s==="RGB"&&(O=3,b=0,M=1,R=2,A=-1),h==="RGBA"?L=m*3:h==="RBG"?(S=0,k=m,U=m*2):h==="BGR"&&(k=0,U=m,S=m*2);for(let j=0;j<m;j++,b+=O,R+=O,M+=O,A+=O)y[S++]=(n[b]+l[0])/d[0],y[U++]=(n[M]+l[1])/d[1],y[k++]=(n[R]+l[2])/d[2],L!==-1&&A!==-1&&(y[L++]=(n[A]+l[3])/d[3]);return h==="RGBA"?new he("float32",y,[1,4,t,u]):new he("float32",y,[1,3,t,u])},Mn=async(n,r)=>{let t=typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement,u=typeof ImageData<"u"&&n instanceof ImageData,a=typeof ImageBitmap<"u"&&n instanceof ImageBitmap,d=typeof n=="string",l,s=r??{},h=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},m=y=>y instanceof HTMLCanvasElement||y instanceof OffscreenCanvas?y.getContext("2d"):null;if(t){let y=h();y.width=n.width,y.height=n.height;let O=m(y);if(O!=null){let b=n.height,M=n.width;if(r!==void 0&&r.resizedHeight!==void 0&&r.resizedWidth!==void 0&&(b=r.resizedHeight,M=r.resizedWidth),r!==void 0){if(s=r,r.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=b,s.width=M}else s.tensorFormat="RGBA",s.height=b,s.width=M;O.drawImage(n,0,0),l=O.getImageData(0,0,M,b).data}else throw new Error("Can not access image data")}else if(u){let y,O;if(r!==void 0&&r.resizedWidth!==void 0&&r.resizedHeight!==void 0?(y=r.resizedHeight,O=r.resizedWidth):(y=n.height,O=n.width),r!==void 0&&(s=r),s.format="RGBA",s.height=y,s.width=O,r!==void 0){let b=h();b.width=O,b.height=y;let M=m(b);if(M!=null)M.putImageData(n,0,0),l=M.getImageData(0,0,O,y).data;else throw new Error("Can not access image data")}else l=n.data}else if(a){if(r===void 0)throw new Error("Please provide image config with format for Imagebitmap");let y=h();y.width=n.width,y.height=n.height;let O=m(y);if(O!=null){let b=n.height,M=n.width;return O.drawImage(n,0,0,M,b),l=O.getImageData(0,0,M,b).data,s.height=b,s.width=M,vr(l,s)}else throw new Error("Can not access image data")}else{if(d)return new Promise((y,O)=>{let b=h(),M=m(b);if(!n||!M)return O();let R=new Image;R.crossOrigin="Anonymous",R.src=n,R.onload=()=>{b.width=R.width,b.height=R.height,M.drawImage(R,0,0,b.width,b.height);let A=M.getImageData(0,0,b.width,b.height);s.height=b.height,s.width=b.width,y(vr(A.data,s))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(l!==void 0)return vr(l,s);throw new Error("Input data provided is not supported - aborted tensor creation")},Cn=(n,r)=>{let{width:t,height:u,download:a,dispose:d}=r,l=[1,u,t,4];return new he({location:"texture",type:"float32",texture:n,dims:l,download:a,dispose:d})},Rn=(n,r)=>{let{dataType:t,dims:u,download:a,dispose:d}=r;return new he({location:"gpu-buffer",type:t??"float32",gpuBuffer:n,dims:u,download:a,dispose:d})},Pn=(n,r,t)=>new he({location:"cpu-pinned",type:n,data:r,dims:t??[r.length]})});var Et,jt,In,Dn,Bn=$(()=>{"use strict";Et=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),jt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),In=!1,Dn=()=>{if(!In){In=!0;let n=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",r=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";n&&(Et.set("int64",BigInt64Array),jt.set(BigInt64Array,"int64")),r&&(Et.set("uint64",BigUint64Array),jt.set(BigUint64Array,"uint64"))}}});var Un,Fn,Ln=$(()=>{"use strict";zt();Un=n=>{let r=1;for(let t=0;t<n.length;t++){let u=n[t];if(typeof u!="number"||!Number.isSafeInteger(u))throw new TypeError(`dims[${t}] must be an integer, got: ${u}`);if(u<0)throw new RangeError(`dims[${t}] must be a non-negative integer, got: ${u}`);r*=u}return r},Fn=(n,r)=>{switch(n.location){case"cpu":return new he(n.type,n.data,r);case"cpu-pinned":return new he({location:"cpu-pinned",data:n.data,type:n.type,dims:r});case"texture":return new he({location:"texture",texture:n.texture,type:n.type,dims:r});case"gpu-buffer":return new he({location:"gpu-buffer",gpuBuffer:n.gpuBuffer,type:n.type,dims:r});default:throw new Error(`tensorReshape: tensor location ${n.location} is not supported`)}}});var he,zt=$(()=>{"use strict";An();xn();Bn();Ln();he=class{constructor(r,t,u){Dn();let a,d;if(typeof r=="object"&&"location"in r)switch(this.dataLocation=r.location,a=r.type,d=r.dims,r.location){case"cpu-pinned":{let s=Et.get(a);if(!s)throw new TypeError(`unsupported type "${a}" to create tensor from pinned buffer`);if(!(r.data instanceof s))throw new TypeError(`buffer should be of type ${s.name}`);this.cpuData=r.data;break}case"texture":{if(a!=="float32")throw new TypeError(`unsupported type "${a}" to create tensor from texture`);this.gpuTextureData=r.texture,this.downloader=r.download,this.disposer=r.dispose;break}case"gpu-buffer":{if(a!=="float32"&&a!=="float16"&&a!=="int32"&&a!=="int64"&&a!=="uint32"&&a!=="bool")throw new TypeError(`unsupported type "${a}" to create tensor from gpu buffer`);this.gpuBufferData=r.gpuBuffer,this.downloader=r.download,this.disposer=r.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let s,h;if(typeof r=="string")if(a=r,h=u,r==="string"){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");s=t}else{let m=Et.get(r);if(m===void 0)throw new TypeError(`Unsupported tensor type: ${r}.`);if(Array.isArray(t)){if(r==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");r==="uint64"||r==="int64"?s=m.from(t,BigInt):s=m.from(t)}else if(t instanceof m)s=t;else throw new TypeError(`A ${a} tensor's data must be type of ${m}`)}else if(h=t,Array.isArray(r)){if(r.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let m=typeof r[0];if(m==="string")a="string",s=r;else if(m==="boolean")a="bool",s=Uint8Array.from(r);else throw new TypeError(`Invalid element type of data array: ${m}.`)}else{let m=jt.get(r.constructor);if(m===void 0)throw new TypeError(`Unsupported type for tensor data: ${r.constructor}.`);a=m,s=r}if(h===void 0)h=[s.length];else if(!Array.isArray(h))throw new TypeError("A tensor's dims must be a number array");d=h,this.cpuData=s,this.dataLocation="cpu"}let l=Un(d);if(this.cpuData&&l!==this.cpuData.length)throw new Error(`Tensor's size(${l}) does not match data length(${this.cpuData.length}).`);this.type=a,this.dims=d,this.size=l}static async fromImage(r,t){return Mn(r,t)}static fromTexture(r,t){return Cn(r,t)}static fromGpuBuffer(r,t){return Rn(r,t)}static fromPinnedBuffer(r,t,u){return Pn(r,t,u)}toDataURL(r){return En(this,r)}toImageData(r){return Sn(this,r)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(r){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,r&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(r){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return Fn(this,r)}}});var de,Yt=$(()=>{"use strict";zt();de=he});var kn,Nn,Je,Xe,Tr=$(()=>{"use strict";Or();kn=(n,r)=>{qe.wasm.trace&&console.timeStamp(`${n}::ORT::${r}`)},Nn=(n,r)=>{let t=new Error().stack?.split(/\r\n|\r|\n/g)||[],u=!1;for(let a=0;a<t.length;a++){if(u&&!t[a].includes("TRACE_FUNC")){let d=`FUNC_${n}::${t[a].trim().split(" ")[1]}`;r&&(d+=`::${r}`),kn("CPU",d);return}t[a].includes("TRACE_FUNC")&&(u=!0)}},Je=n=>{qe.wasm.trace&&Nn("BEGIN",n)},Xe=n=>{qe.wasm.trace&&Nn("END",n)}});var Vt,Hn=$(()=>{"use strict";$t();Yt();Tr();Vt=class n{constructor(r){this.handler=r}async run(r,t,u){Je();let a={},d={};if(typeof r!="object"||r===null||r instanceof de||Array.isArray(r))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let l=!0;if(typeof t=="object"){if(t===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof de)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(t.length===0)throw new TypeError("'fetches' cannot be an empty array.");l=!1;for(let m of t){if(typeof m!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(m)===-1)throw new RangeError(`'fetches' contains invalid output name: ${m}.`);a[m]=null}if(typeof u=="object"&&u!==null)d=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else{let m=!1,y=Object.getOwnPropertyNames(t);for(let O of this.outputNames)if(y.indexOf(O)!==-1){let b=t[O];(b===null||b instanceof de)&&(m=!0,l=!1,a[O]=b)}if(m){if(typeof u=="object"&&u!==null)d=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else d=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let m of this.inputNames)if(typeof r[m]>"u")throw new Error(`input '${m}' is missing in 'feeds'.`);if(l)for(let m of this.outputNames)a[m]=null;let s=await this.handler.run(r,a,d),h={};for(let m in s)if(Object.hasOwnProperty.call(s,m)){let y=s[m];y instanceof de?h[m]=y:h[m]=new de(y.type,y.data,y.dims)}return Xe(),h}async release(){return this.handler.dispose()}static async create(r,t,u,a){Je();let d,l={};if(typeof r=="string"){if(d=r,typeof t=="object"&&t!==null)l=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof Uint8Array){if(d=r,typeof t=="object"&&t!==null)l=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer){let O=r,b=0,M=r.byteLength;if(typeof t=="object"&&t!==null)l=t;else if(typeof t=="number"){if(b=t,!Number.isSafeInteger(b))throw new RangeError("'byteOffset' must be an integer.");if(b<0||b>=O.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${O.byteLength}).`);if(M=r.byteLength-b,typeof u=="number"){if(M=u,!Number.isSafeInteger(M))throw new RangeError("'byteLength' must be an integer.");if(M<=0||b+M>O.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${O.byteLength-b}].`);if(typeof a=="object"&&a!==null)l=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else if(typeof u<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof t<"u")throw new TypeError("'options' must be an object.");d=new Uint8Array(O,b,M)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let h=(l.executionProviders||[]).map(O=>typeof O=="string"?O:O.name),y=await(await Gt(h)).createInferenceSessionHandler(d,l);return Xe(),new n(y)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Ja,Wn=$(()=>{"use strict";Hn();Ja=Vt});var Gn=$(()=>{"use strict"});var Xa,qt,$n=$(()=>{"use strict";$t();Yt();Xa="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",qt=class n{constructor(r,t,u){this.handler=r,this.hasOptimizerModel=t,this.hasEvalModel=u}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(r,t){let u=r.evalModel||"",a=r.optimizerModel||"",d=t||{},s=(d.executionProviders||[]).map(m=>typeof m=="string"?m:m.name),h=await Gt(s);if(h.createTrainingSessionHandler){let m=await h.createTrainingSessionHandler(r.checkpointState,r.trainModel,u,a,d);return new n(m,!!r.optimizerModel,!!r.evalModel)}else throw new Error(Xa)}typeNarrowingForRunStep(r,t,u,a,d){let l={},s={};if(typeof u!="object"||u===null||u instanceof de||Array.isArray(u))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let h=!0;if(typeof a=="object"){if(a===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(a instanceof de)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(a)){if(a.length===0)throw new TypeError("'fetches' cannot be an empty array.");h=!1;for(let m of a){if(typeof m!="string")throw new TypeError("'fetches' must be a string array or an object.");if(t.indexOf(m)===-1)throw new RangeError(`'fetches' contains invalid output name: ${m}.`);l[m]=null}if(typeof d=="object"&&d!==null)s=d;else if(typeof d<"u")throw new TypeError("'options' must be an object.")}else{let m=!1,y=Object.getOwnPropertyNames(a);for(let O of t)if(y.indexOf(O)!==-1){let b=a[O];(b===null||b instanceof de)&&(m=!0,h=!1,l[O]=b)}if(m){if(typeof d=="object"&&d!==null)s=d;else if(typeof d<"u")throw new TypeError("'options' must be an object.")}else s=a}}else if(typeof a<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let m of r)if(typeof u[m]>"u")throw new Error(`input '${m}' is missing in 'feeds'.`);if(h)for(let m of t)l[m]=null;return[l,s]}convertHandlerReturnTypeToMapOfTensors(r){let t={};for(let u in r)if(Object.hasOwnProperty.call(r,u)){let a=r[u];a instanceof de?t[u]=a:t[u]=new de(a.type,a.data,a.dims)}return t}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(r,t,u){let[a,d]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,r,t,u),l=await this.handler.runTrainStep(r,a,d);return this.convertHandlerReturnTypeToMapOfTensors(l)}async runOptimizerStep(r){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(r||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(r,t,u){if(this.hasEvalModel){let[a,d]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,r,t,u),l=await this.handler.runEvalStep(r,a,d);return this.convertHandlerReturnTypeToMapOfTensors(l)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(r=!0){return this.handler.getParametersSize(r)}async loadParametersBuffer(r,t=!0){let u=await this.getParametersSize(t);if(r.length!==4*u)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(r,t)}async getContiguousParameters(r=!0){return this.handler.getContiguousParameters(r)}async release(){return this.handler.dispose()}}});var Qa,zn=$(()=>{"use strict";$n();Qa=qt});var _r={};Tt(_r,{InferenceSession:()=>Ja,TRACE:()=>kn,TRACE_FUNC_BEGIN:()=>Je,TRACE_FUNC_END:()=>Xe,Tensor:()=>de,TrainingSession:()=>Qa,env:()=>V,registerBackend:()=>_t});var Qe=$(()=>{"use strict";bn();_n();Wn();Yt();Tr();Gn();zn()});var Er={};Tt(Er,{createReadStream:()=>Yn,readFile:()=>Za,readFileSync:()=>Ka});var Za,Ka,Yn,Sr=$(()=>{Za=void 0,Ka=void 0,Yn=void 0});var Ar={};Tt(Ar,{join:()=>eo});var eo,Mr=$(()=>{eo=void 0});var Jn=it((qn,Cr)=>{"use strict";var Vn=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(r={}){var t=r,u,a;t.ready=new Promise((o,c)=>{u=o,a=c});var d=Object.assign({},t),l="./this.program",s=typeof window=="object",h=typeof importScripts=="function",m=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",y="",O,b,M;if(m){var R=(Sr(),ut(Er)),A=(Mr(),ut(Ar));y=h?A.dirname(y)+"/":__dirname+"/",O=(o,c)=>(o=Ce(o)?new URL(o):A.normalize(o),R.readFileSync(o,c?void 0:"utf8")),M=o=>(o=O(o,!0),o.buffer||(o=new Uint8Array(o)),o),b=(o,c,p,w=!0)=>{o=Ce(o)?new URL(o):A.normalize(o),R.readFile(o,w?void 0:"utf8",(C,I)=>{C?p(C):c(w?I.buffer:I)})},!t.thisProgram&&1<process.argv.length&&(l=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(s||h)&&(h?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),n&&(y=n),y.indexOf("blob:")!==0?y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):y="",O=o=>{var c=new XMLHttpRequest;return c.open("GET",o,!1),c.send(null),c.responseText},h&&(M=o=>{var c=new XMLHttpRequest;return c.open("GET",o,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)}),b=(o,c,p)=>{var w=new XMLHttpRequest;w.open("GET",o,!0),w.responseType="arraybuffer",w.onload=()=>{w.status==200||w.status==0&&w.response?c(w.response):p()},w.onerror=p,w.send(null)});var S=console.log.bind(console),U=console.error.bind(console);Object.assign(t,d),d=null,typeof WebAssembly!="object"&&N("no native wasm support detected");var k,L=!1,G,j,x,q,Ue;function He(){var o=k.buffer;t.HEAP8=G=new Int8Array(o),t.HEAP16=new Int16Array(o),t.HEAPU8=j=new Uint8Array(o),t.HEAPU16=new Uint16Array(o),t.HEAP32=x=new Int32Array(o),t.HEAPU32=q=new Uint32Array(o),t.HEAPF32=new Float32Array(o),t.HEAPF64=Ue=new Float64Array(o)}var pe=[],se=[],ne=[],Me=0,Te=null,ie=null;function N(o){throw o="Aborted("+o+")",U(o),L=!0,o=new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info."),a(o),o}var _e=o=>o.startsWith("data:application/octet-stream;base64,"),Ce=o=>o.startsWith("file://"),ce;if(ce="ort-training-wasm-simd.wasm",!_e(ce)){var Re=ce;ce=t.locateFile?t.locateFile(Re,y):y+Re}function Z(o){if(M)return M(o);throw"both async and sync fetching of the wasm failed"}function ge(o){if(s||h){if(typeof fetch=="function"&&!Ce(o))return fetch(o,{credentials:"same-origin"}).then(c=>{if(!c.ok)throw"failed to load wasm binary file at '"+o+"'";return c.arrayBuffer()}).catch(()=>Z(o));if(b)return new Promise((c,p)=>{b(o,w=>c(new Uint8Array(w)),p)})}return Promise.resolve().then(()=>Z(o))}function Ge(o,c,p){return ge(o).then(w=>WebAssembly.instantiate(w,c)).then(w=>w).then(p,w=>{U(`failed to asynchronously prepare wasm: ${w}`),N(w)})}function Pe(o,c){var p=ce;return typeof WebAssembly.instantiateStreaming!="function"||_e(p)||Ce(p)||m||typeof fetch!="function"?Ge(p,o,c):fetch(p,{credentials:"same-origin"}).then(w=>WebAssembly.instantiateStreaming(w,o).then(c,function(C){return U(`wasm streaming compile failed: ${C}`),U("falling back to ArrayBuffer instantiation"),Ge(p,o,c)}))}var Ee,Se={990352:(o,c,p,w)=>{if(typeof t>"u"||!t.Qa)return 1;if(o=K(o>>>0),o.startsWith("./")&&(o=o.substring(2)),o=t.Qa.get(o),!o)return 2;if(c>>>=0,p>>>=0,c+p>o.byteLength)return 3;try{return j.set(o.subarray(c,c+p),w>>>0>>>0),0}catch{return 4}}};function $e(o){this.Ka=o-24,this.Pa=function(c){q[this.Ka+4>>>2>>>0]=c},this.Oa=function(c){q[this.Ka+8>>>2>>>0]=c},this.Ma=function(c,p){this.Na(),this.Pa(c),this.Oa(p)},this.Na=function(){q[this.Ka+16>>>2>>>0]=0}}var ye=0,xe=0,Fe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,oe=(o,c,p)=>{c>>>=0;var w=c+p;for(p=c;o[p]&&!(p>=w);)++p;if(16<p-c&&o.buffer&&Fe)return Fe.decode(o.subarray(c,p));for(w="";c<p;){var C=o[c++];if(C&128){var I=o[c++]&63;if((C&224)==192)w+=String.fromCharCode((C&31)<<6|I);else{var H=o[c++]&63;C=(C&240)==224?(C&15)<<12|I<<6|H:(C&7)<<18|I<<12|H<<6|o[c++]&63,65536>C?w+=String.fromCharCode(C):(C-=65536,w+=String.fromCharCode(55296|C>>10,56320|C&1023))}}else w+=String.fromCharCode(C)}return w},K=(o,c)=>(o>>>=0)?oe(j,o,c):"",Oe=o=>{for(var c=0,p=0;p<o.length;++p){var w=o.charCodeAt(p);127>=w?c++:2047>=w?c+=2:55296<=w&&57343>=w?(c+=4,++p):c+=3}return c},Le=(o,c,p,w)=>{if(p>>>=0,!(0<w))return 0;var C=p;w=p+w-1;for(var I=0;I<o.length;++I){var H=o.charCodeAt(I);if(55296<=H&&57343>=H){var ae=o.charCodeAt(++I);H=65536+((H&1023)<<10)|ae&1023}if(127>=H){if(p>=w)break;c[p++>>>0]=H}else{if(2047>=H){if(p+1>=w)break;c[p++>>>0]=192|H>>6}else{if(65535>=H){if(p+2>=w)break;c[p++>>>0]=224|H>>12}else{if(p+3>=w)break;c[p++>>>0]=240|H>>18,c[p++>>>0]=128|H>>12&63}c[p++>>>0]=128|H>>6&63}c[p++>>>0]=128|H&63}}return c[p>>>0]=0,p-C},Ie=o=>o%4===0&&(o%100!==0||o%400===0),mt=[0,31,60,91,121,152,182,213,244,274,305,335],It=[0,31,59,90,120,151,181,212,243,273,304,334],ke=o=>{var c=Oe(o)+1,p=Bt(c);return p&&Le(o,j,p,c),p},tt=[],We={},rt=()=>{if(!nt){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"},c;for(c in We)We[c]===void 0?delete o[c]:o[c]=We[c];var p=[];for(c in o)p.push(`${c}=${o[c]}`);nt=p}return nt},nt,ze=[null,[],[]],ht=[31,29,31,30,31,30,31,31,30,31,30,31],gt=[31,28,31,30,31,30,31,31,30,31,30,31];function at(o){var c=Array(Oe(o)+1);return Le(o,c,0,c.length),c}function Dt(o,c,p,w){function C(v,z,Q){for(v=typeof v=="number"?v.toString():v||"";v.length<z;)v=Q[0]+v;return v}function I(v,z){return C(v,z,"0")}function H(v,z){function Q(vt){return 0>vt?-1:0<vt?1:0}var De;return(De=Q(v.getFullYear()-z.getFullYear()))===0&&(De=Q(v.getMonth()-z.getMonth()))===0&&(De=Q(v.getDate()-z.getDate())),De}function ae(v){switch(v.getDay()){case 0:return new Date(v.getFullYear()-1,11,29);case 1:return v;case 2:return new Date(v.getFullYear(),0,3);case 3:return new Date(v.getFullYear(),0,2);case 4:return new Date(v.getFullYear(),0,1);case 5:return new Date(v.getFullYear()-1,11,31);case 6:return new Date(v.getFullYear()-1,11,30)}}function me(v){var z=v.Ga;for(v=new Date(new Date(v.Ha+1900,0,1).getTime());0<z;){var Q=v.getMonth(),De=(Ie(v.getFullYear())?ht:gt)[Q];if(z>De-v.getDate())z-=De-v.getDate()+1,v.setDate(1),11>Q?v.setMonth(Q+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1));else{v.setDate(v.getDate()+z);break}}return Q=new Date(v.getFullYear()+1,0,4),z=ae(new Date(v.getFullYear(),0,4)),Q=ae(Q),0>=H(z,v)?0>=H(Q,v)?v.getFullYear()+1:v.getFullYear():v.getFullYear()-1}o>>>=0,c>>>=0,p>>>=0,w>>>=0;var le=q[w+40>>>2>>>0];w={Ta:x[w>>>2>>>0],Sa:x[w+4>>>2>>>0],Ia:x[w+8>>>2>>>0],La:x[w+12>>>2>>>0],Ja:x[w+16>>>2>>>0],Ha:x[w+20>>>2>>>0],Ba:x[w+24>>>2>>>0],Ga:x[w+28>>>2>>>0],Va:x[w+32>>>2>>>0],Ra:x[w+36>>>2>>>0],Ua:le?K(le):""},p=K(p),le={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var fe in le)p=p.replace(new RegExp(fe,"g"),le[fe]);var bt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ot="January February March April May June July August September October November December".split(" ");le={"%a":v=>bt[v.Ba].substring(0,3),"%A":v=>bt[v.Ba],"%b":v=>Ot[v.Ja].substring(0,3),"%B":v=>Ot[v.Ja],"%C":v=>I((v.Ha+1900)/100|0,2),"%d":v=>I(v.La,2),"%e":v=>C(v.La,2," "),"%g":v=>me(v).toString().substring(2),"%G":v=>me(v),"%H":v=>I(v.Ia,2),"%I":v=>(v=v.Ia,v==0?v=12:12<v&&(v-=12),I(v,2)),"%j":v=>{for(var z=0,Q=0;Q<=v.Ja-1;z+=(Ie(v.Ha+1900)?ht:gt)[Q++]);return I(v.La+z,3)},"%m":v=>I(v.Ja+1,2),"%M":v=>I(v.Sa,2),"%n":()=>`
`,"%p":v=>0<=v.Ia&&12>v.Ia?"AM":"PM","%S":v=>I(v.Ta,2),"%t":()=>"	","%u":v=>v.Ba||7,"%U":v=>I(Math.floor((v.Ga+7-v.Ba)/7),2),"%V":v=>{var z=Math.floor((v.Ga+7-(v.Ba+6)%7)/7);if(2>=(v.Ba+371-v.Ga-2)%7&&z++,z)z==53&&(Q=(v.Ba+371-v.Ga)%7,Q==4||Q==3&&Ie(v.Ha)||(z=1));else{z=52;var Q=(v.Ba+7-v.Ga-1)%7;(Q==4||Q==5&&Ie(v.Ha%400-1))&&z++}return I(z,2)},"%w":v=>v.Ba,"%W":v=>I(Math.floor((v.Ga+7-(v.Ba+6)%7)/7),2),"%y":v=>(v.Ha+1900).toString().substring(2),"%Y":v=>v.Ha+1900,"%z":v=>{v=v.Ra;var z=0<=v;return v=Math.abs(v)/60,(z?"+":"-")+("0000"+(v/60*100+v%60)).slice(-4)},"%Z":v=>v.Ua,"%%":()=>"%"},p=p.replace(/%%/g,"\0\0");for(fe in le)p.includes(fe)&&(p=p.replace(new RegExp(fe,"g"),le[fe](w)));return p=p.replace(/\0\0/g,"%"),fe=at(p),fe.length>c?0:(G.set(fe,o>>>0),fe.length-1)}var J={a:function(o,c,p){throw o>>>=0,new $e(o).Ma(c>>>0,p>>>0),ye=o,xe++,ye},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(o,c,p){o=c+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*c:NaN,p>>>=0,o=new Date(1e3*o),x[p>>>2>>>0]=o.getUTCSeconds(),x[p+4>>>2>>>0]=o.getUTCMinutes(),x[p+8>>>2>>>0]=o.getUTCHours(),x[p+12>>>2>>>0]=o.getUTCDate(),x[p+16>>>2>>>0]=o.getUTCMonth(),x[p+20>>>2>>>0]=o.getUTCFullYear()-1900,x[p+24>>>2>>>0]=o.getUTCDay(),x[p+28>>>2>>>0]=(o.getTime()-Date.UTC(o.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(o,c,p){o=c+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*c:NaN,p>>>=0,o=new Date(1e3*o),x[p>>>2>>>0]=o.getSeconds(),x[p+4>>>2>>>0]=o.getMinutes(),x[p+8>>>2>>>0]=o.getHours(),x[p+12>>>2>>>0]=o.getDate(),x[p+16>>>2>>>0]=o.getMonth(),x[p+20>>>2>>>0]=o.getFullYear()-1900,x[p+24>>>2>>>0]=o.getDay(),x[p+28>>>2>>>0]=(Ie(o.getFullYear())?mt:It)[o.getMonth()]+o.getDate()-1|0,x[p+36>>>2>>>0]=-(60*o.getTimezoneOffset()),c=new Date(o.getFullYear(),6,1).getTimezoneOffset();var w=new Date(o.getFullYear(),0,1).getTimezoneOffset();x[p+32>>>2>>>0]=(c!=w&&o.getTimezoneOffset()==Math.min(w,c))|0},p:function(o){o>>>=0;var c=new Date(x[o+20>>>2>>>0]+1900,x[o+16>>>2>>>0],x[o+12>>>2>>>0],x[o+8>>>2>>>0],x[o+4>>>2>>>0],x[o>>>2>>>0],0),p=x[o+32>>>2>>>0],w=c.getTimezoneOffset(),C=new Date(c.getFullYear(),6,1).getTimezoneOffset(),I=new Date(c.getFullYear(),0,1).getTimezoneOffset(),H=Math.min(I,C);return 0>p?x[o+32>>>2>>>0]=+(C!=I&&H==w):0<p!=(H==w)&&(C=Math.max(I,C),c.setTime(c.getTime()+6e4*((0<p?H:C)-w))),x[o+24>>>2>>>0]=c.getDay(),x[o+28>>>2>>>0]=(Ie(c.getFullYear())?mt:It)[c.getMonth()]+c.getDate()-1|0,x[o>>>2>>>0]=c.getSeconds(),x[o+4>>>2>>>0]=c.getMinutes(),x[o+8>>>2>>>0]=c.getHours(),x[o+12>>>2>>>0]=c.getDate(),x[o+16>>>2>>>0]=c.getMonth(),x[o+20>>>2>>>0]=c.getYear(),o=c.getTime(),isNaN(o)?(x[ot()>>>2>>>0]=61,o=-1):o/=1e3,yt((Ee=o,1<=+Math.abs(Ee)?0<Ee?+Math.floor(Ee/4294967296)>>>0:~~+Math.ceil((Ee-+(~~Ee>>>0))/4294967296)>>>0:0)),o>>>0},l:function(){return-52},m:function(){},t:function(o,c,p){function w(me){return(me=me.toTimeString().match(/\(([A-Za-z ]+)\)$/))?me[1]:"GMT"}p>>>=0;var C=new Date().getFullYear(),I=new Date(C,0,1),H=new Date(C,6,1);C=I.getTimezoneOffset();var ae=H.getTimezoneOffset();q[o>>>0>>>2>>>0]=60*Math.max(C,ae),x[c>>>0>>>2>>>0]=+(C!=ae),o=w(I),c=w(H),o=ke(o),c=ke(c),ae<C?(q[p>>>2>>>0]=o,q[p+4>>>2>>>0]=c):(q[p>>>2>>>0]=c,q[p+4>>>2>>>0]=o)},d:()=>{N("")},B:function(o,c,p){o>>>=0,c>>>=0,p>>>=0,tt.length=0;for(var w;w=j[c++>>>0];){var C=w!=105;C&=w!=112,p+=C&&p%8?4:0,tt.push(w==112?q[p>>>2>>>0]:w==105?x[p>>>2>>>0]:Ue[p>>>3>>>0]),p+=C?8:4}return Se[o].apply(null,tt)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(o,c,p){return c>>>=0,j.copyWithin(o>>>0>>>0,c>>>0,c+(p>>>0)>>>0)},s:function(o){o>>>=0;var c=j.length;if(4294901760<o)return!1;for(var p=1;4>=p;p*=2){var w=c*(1+.2/p);w=Math.min(w,o+100663296);var C=Math;w=Math.max(o,w);e:{C=(C.min.call(C,4294901760,w+(65536-w%65536)%65536)-k.buffer.byteLength+65535)/65536;try{k.grow(C),He();var I=1;break e}catch{}I=void 0}if(I)return!0}return!1},C:function(o,c){o>>>=0,c>>>=0;var p=0;return rt().forEach((w,C)=>{var I=c+p;for(C=q[o+4*C>>>2>>>0]=I,I=0;I<w.length;++I)G[C++>>>0>>>0]=w.charCodeAt(I);G[C>>>0>>>0]=0,p+=w.length+1}),0},D:function(o,c){o>>>=0,c>>>=0;var p=rt();q[o>>>2>>>0]=p.length;var w=0;return p.forEach(C=>w+=C.length+1),q[c>>>2>>>0]=w,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(o,c,p,w){c>>>=0,p>>>=0,w>>>=0;for(var C=0,I=0;I<p;I++){var H=q[c>>>2>>>0],ae=q[c+4>>>2>>>0];c+=8;for(var me=0;me<ae;me++){var le=j[H+me>>>0],fe=ze[o];le===0||le===10?((o===1?S:U)(oe(fe,0)),fe.length=0):fe.push(le)}C+=ae}return q[w>>>2>>>0]=C,0},r:Dt,c:function(o,c,p,w){return Dt(o>>>0,c>>>0,p>>>0,w>>>0)}},D=function(){function o(p){return D=p.exports,D=Ft(),k=D.K,He(),se.unshift(D.L),Me--,Me==0&&(Te!==null&&(clearInterval(Te),Te=null),ie&&(p=ie,ie=null,p())),D}var c={a:J};if(Me++,t.instantiateWasm)try{return t.instantiateWasm(c,o)}catch(p){U(`Module.instantiateWasm callback failed with error: ${p}`),a(p)}return Pe(c,function(p){o(p.instance)}).catch(a),{}}();t._OrtInit=(o,c)=>(t._OrtInit=D.M)(o,c),t._OrtGetLastError=(o,c)=>(t._OrtGetLastError=D.N)(o,c),t._OrtCreateSessionOptions=(o,c,p,w,C,I,H,ae,me,le)=>(t._OrtCreateSessionOptions=D.O)(o,c,p,w,C,I,H,ae,me,le),t._OrtAppendExecutionProvider=(o,c)=>(t._OrtAppendExecutionProvider=D.P)(o,c),t._OrtAddFreeDimensionOverride=(o,c,p)=>(t._OrtAddFreeDimensionOverride=D.Q)(o,c,p),t._OrtAddSessionConfigEntry=(o,c,p)=>(t._OrtAddSessionConfigEntry=D.R)(o,c,p),t._OrtReleaseSessionOptions=o=>(t._OrtReleaseSessionOptions=D.S)(o),t._OrtCreateSession=(o,c,p)=>(t._OrtCreateSession=D.T)(o,c,p),t._OrtReleaseSession=o=>(t._OrtReleaseSession=D.U)(o),t._OrtGetInputOutputCount=(o,c,p)=>(t._OrtGetInputOutputCount=D.V)(o,c,p),t._OrtGetInputName=(o,c)=>(t._OrtGetInputName=D.W)(o,c),t._OrtGetOutputName=(o,c)=>(t._OrtGetOutputName=D.X)(o,c),t._OrtFree=o=>(t._OrtFree=D.Y)(o),t._OrtCreateTensor=(o,c,p,w,C,I)=>(t._OrtCreateTensor=D.Z)(o,c,p,w,C,I),t._OrtGetTensorData=(o,c,p,w,C)=>(t._OrtGetTensorData=D._)(o,c,p,w,C),t._OrtReleaseTensor=o=>(t._OrtReleaseTensor=D.$)(o),t._OrtCreateRunOptions=(o,c,p,w)=>(t._OrtCreateRunOptions=D.aa)(o,c,p,w),t._OrtAddRunConfigEntry=(o,c,p)=>(t._OrtAddRunConfigEntry=D.ba)(o,c,p),t._OrtReleaseRunOptions=o=>(t._OrtReleaseRunOptions=D.ca)(o),t._OrtCreateBinding=o=>(t._OrtCreateBinding=D.da)(o),t._OrtBindInput=(o,c,p)=>(t._OrtBindInput=D.ea)(o,c,p),t._OrtBindOutput=(o,c,p,w)=>(t._OrtBindOutput=D.fa)(o,c,p,w),t._OrtClearBoundOutputs=o=>(t._OrtClearBoundOutputs=D.ga)(o),t._OrtReleaseBinding=o=>(t._OrtReleaseBinding=D.ha)(o),t._OrtRunWithBinding=(o,c,p,w,C)=>(t._OrtRunWithBinding=D.ia)(o,c,p,w,C),t._OrtRun=(o,c,p,w,C,I,H,ae)=>(t._OrtRun=D.ja)(o,c,p,w,C,I,H,ae),t._OrtEndProfiling=o=>(t._OrtEndProfiling=D.ka)(o),t._OrtTrainingLoadCheckpoint=(o,c)=>(t._OrtTrainingLoadCheckpoint=D.la)(o,c),t._OrtTrainingReleaseCheckpoint=o=>(t._OrtTrainingReleaseCheckpoint=D.ma)(o),t._OrtTrainingCreateSession=(o,c,p,w,C,I,H,ae)=>(t._OrtTrainingCreateSession=D.na)(o,c,p,w,C,I,H,ae),t._OrtTrainingLazyResetGrad=o=>(t._OrtTrainingLazyResetGrad=D.oa)(o),t._OrtTrainingRunTrainStep=(o,c,p,w,C,I)=>(t._OrtTrainingRunTrainStep=D.pa)(o,c,p,w,C,I),t._OrtTrainingOptimizerStep=(o,c)=>(t._OrtTrainingOptimizerStep=D.qa)(o,c),t._OrtTrainingEvalStep=(o,c,p,w,C,I)=>(t._OrtTrainingEvalStep=D.ra)(o,c,p,w,C,I),t._OrtTrainingGetParametersSize=(o,c,p)=>(t._OrtTrainingGetParametersSize=D.sa)(o,c,p),t._OrtTrainingCopyParametersToBuffer=(o,c,p,w)=>(t._OrtTrainingCopyParametersToBuffer=D.ta)(o,c,p,w),t._OrtTrainingCopyParametersFromBuffer=(o,c,p,w)=>(t._OrtTrainingCopyParametersFromBuffer=D.ua)(o,c,p,w),t._OrtTrainingGetModelInputOutputCount=(o,c,p,w)=>(t._OrtTrainingGetModelInputOutputCount=D.va)(o,c,p,w),t._OrtTrainingGetModelInputOutputName=(o,c,p,w)=>(t._OrtTrainingGetModelInputOutputName=D.wa)(o,c,p,w),t._OrtTrainingReleaseSession=o=>(t._OrtTrainingReleaseSession=D.xa)(o);var ot=()=>(ot=D.ya)(),Bt=t._malloc=o=>(Bt=t._malloc=D.za)(o);t._free=o=>(t._free=D.Aa)(o);var yt=o=>(yt=D.Ca)(o),Ut=()=>(Ut=D.Da)(),F=o=>(F=D.Ea)(o),je=o=>(je=D.Fa)(o);function Ft(){var o=D;o=Object.assign({},o);var c=w=>()=>w()>>>0,p=w=>C=>w(C)>>>0;return o.ya=c(o.ya),o.za=p(o.za),o.Da=c(o.Da),o.Fa=p(o.Fa),o}t.stackAlloc=je,t.stackSave=Ut,t.stackRestore=F,t.UTF8ToString=K,t.stringToUTF8=(o,c,p)=>Le(o,j,c,p),t.lengthBytesUTF8=Oe;var Ne;ie=function o(){Ne||wt(),Ne||(ie=o)};function wt(){if(!(0<Me)){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;){var o=t.preRun.shift();pe.unshift(o)}for(;0<pe.length;)pe.shift()(t);if(!(0<Me||Ne||(Ne=!0,t.calledRun=!0,L))){for(;0<se.length;)se.shift()(t);for(u(t);0<ne.length;)ne.shift()(t)}}}return wt(),r.ready}})();typeof qn=="object"&&typeof Cr=="object"?Cr.exports=Vn:typeof define=="function"&&define.amd&&define([],()=>Vn)});var Xn=it(()=>{});var Qn=it(()=>{});var Zn={};Tt(Zn,{cpus:()=>to});var to,Kn=$(()=>{to=void 0});var ra=it((ta,Rr)=>{"use strict";var ea=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(r={}){function t(){return ne.buffer!=N.buffer&&Z(),N}function u(){return ne.buffer!=N.buffer&&Z(),_e}function a(){return ne.buffer!=N.buffer&&Z(),Ce}function d(){return ne.buffer!=N.buffer&&Z(),ce}function l(){return ne.buffer!=N.buffer&&Z(),Re}var s=r,h,m;s.ready=new Promise((e,i)=>{h=e,m=i});var y=Object.assign({},s),O="./this.program",b=(e,i)=>{throw i},M=typeof window=="object",R=typeof importScripts=="function",A=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S=s.ENVIRONMENT_IS_PTHREAD||!1,U="";function k(e){return s.locateFile?s.locateFile(e,U):U+e}var L,G,j;if(A){var x=(Sr(),ut(Er)),q=(Mr(),ut(Ar));U=R?q.dirname(U)+"/":__dirname+"/",L=(i,f)=>(i=K(i)?new URL(i):q.normalize(i),x.readFileSync(i,f?void 0:"utf8")),j=i=>(i=L(i,!0),i.buffer||(i=new Uint8Array(i)),i),G=(i,f,g,_=!0)=>{i=K(i)?new URL(i):q.normalize(i),x.readFile(i,_?void 0:"utf8",(E,P)=>{E?g(E):f(_?P.buffer:P)})},!s.thisProgram&&1<process.argv.length&&(O=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),b=(i,f)=>{throw process.exitCode=i,f},s.inspect=()=>"[Emscripten Module object]";let e;try{e=Xn()}catch(i){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),i}global.Worker=e.Worker}else(M||R)&&(R?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),typeof n<"u"&&n&&(U=n),U.indexOf("blob:")!==0?U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):U="",A||(L=e=>{var i=new XMLHttpRequest;return i.open("GET",e,!1),i.send(null),i.responseText},R&&(j=e=>{var i=new XMLHttpRequest;return i.open("GET",e,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),G=(e,i,f)=>{var g=new XMLHttpRequest;g.open("GET",e,!0),g.responseType="arraybuffer",g.onload=()=>{g.status==200||g.status==0&&g.response?i(g.response):f()},g.onerror=f,g.send(null)}));A&&typeof performance>"u"&&(global.performance=Qn().performance);var Ue=console.log.bind(console),He=console.error.bind(console);A&&(Ue=(...e)=>x.writeSync(1,e.join(" ")+`
`),He=(...e)=>x.writeSync(2,e.join(" ")+`
`));var pe=Ue,se=He;Object.assign(s,y),y=null,typeof WebAssembly!="object"&&Fe("no native wasm support detected");var ne,Me,Te=!1,ie,N,_e,Ce,ce,Re;function Z(){var e=ne.buffer;s.HEAP8=N=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAPU8=_e=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=Ce=new Int32Array(e),s.HEAPU32=ce=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=Re=new Float64Array(e)}var ge=16777216;if(S)ne=s.wasmMemory;else if(s.wasmMemory)ne=s.wasmMemory;else if(ne=new WebAssembly.Memory({initial:ge/65536,maximum:65536,shared:!0}),!(ne.buffer instanceof SharedArrayBuffer))throw se("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),A&&se("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Z(),ge=ne.buffer.byteLength;var Ge=[],Pe=[],Ee=[],Se=0,$e=null,ye=null;function xe(){if(Se--,Se==0&&($e!==null&&(clearInterval($e),$e=null),ye)){var e=ye;ye=null,e()}}function Fe(e){throw e="Aborted("+e+")",se(e),Te=!0,ie=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),m(e),e}var oe=e=>e.startsWith("data:application/octet-stream;base64,"),K=e=>e.startsWith("file://"),Oe;Oe="ort-wasm-threaded.wasm",oe(Oe)||(Oe=k(Oe));function Le(e){if(j)return j(e);throw"both async and sync fetching of the wasm failed"}function Ie(e){if(M||R){if(typeof fetch=="function"&&!K(e))return fetch(e,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at '"+e+"'";return i.arrayBuffer()}).catch(()=>Le(e));if(G)return new Promise((i,f)=>{G(e,g=>i(new Uint8Array(g)),f)})}return Promise.resolve().then(()=>Le(e))}function mt(e,i,f){return Ie(e).then(g=>WebAssembly.instantiate(g,i)).then(g=>g).then(f,g=>{se(`failed to asynchronously prepare wasm: ${g}`),Fe(g)})}function It(e,i){var f=Oe;return typeof WebAssembly.instantiateStreaming!="function"||oe(f)||K(f)||A||typeof fetch!="function"?mt(f,e,i):fetch(f,{credentials:"same-origin"}).then(g=>WebAssembly.instantiateStreaming(g,e).then(i,function(_){return se(`wasm streaming compile failed: ${_}`),se("falling back to ArrayBuffer instantiation"),mt(f,e,i)}))}var ke,tt={921212:(e,i,f,g)=>{if(typeof s>"u"||!s.cb)return 1;if(e=at(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=s.cb.get(e),!e)return 2;if(i>>>=0,f>>>=0,g>>>=0,i+f>e.byteLength)return 3;try{return u().set(e.subarray(i,i+f),g>>>0),0}catch{return 4}}};function We(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var rt=e=>{e.terminate(),e.onmessage=()=>{}},nt=e=>{F.Pa.length==0&&(yt(),F.Ya(F.Pa[0]));var i=F.Pa.pop();if(!i)return 6;F.Qa.push(i),F.Ma[e.Oa]=i,i.Oa=e.Oa;var f={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return A&&i.unref(),i.postMessage(f,e.qb),0},ze=0,ht=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,gt=(e,i,f)=>{i>>>=0;var g=i+f;for(f=i;e[f]&&!(f>=g);)++f;if(16<f-i&&e.buffer&&ht)return ht.decode(e.buffer instanceof SharedArrayBuffer?e.slice(i,f):e.subarray(i,f));for(g="";i<f;){var _=e[i++];if(_&128){var E=e[i++]&63;if((_&224)==192)g+=String.fromCharCode((_&31)<<6|E);else{var P=e[i++]&63;_=(_&240)==224?(_&15)<<12|E<<6|P:(_&7)<<18|E<<12|P<<6|e[i++]&63,65536>_?g+=String.fromCharCode(_):(_-=65536,g+=String.fromCharCode(55296|_>>10,56320|_&1023))}}else g+=String.fromCharCode(_)}return g},at=(e,i)=>(e>>>=0)?gt(u(),e,i):"",Dt=e=>{var i=yr();return e=e(),Nt(i),e};function J(e,i){var f=arguments.length-2,g=arguments;return Dt(()=>{for(var _=wr(8*f),E=_>>>3,P=0;P<f;P++){var te=g[2+P];l()[E+P>>>0]=te}return cn(e,f,_,i)})}function D(e){if(S)return J(0,1,e);ie=e,0<ze||(F.lb(),s.onExit?.(e),Te=!0),b(e,new We(e))}var ot=e=>{if(ie=e,S)throw Ft(e),"unwind";D(e)};function Bt(){for(var e=s.numThreads;e--;)yt();Ge.unshift(()=>{Se++,Ut(()=>xe())})}function yt(){var e=k("ort-wasm-threaded.worker.js");e=new Worker(e),F.Pa.push(e)}function Ut(e){S?e():Promise.all(F.Pa.map(F.Ya)).then(e)}var F={Pa:[],Qa:[],bb:[],Ma:{},Wa(){S?(F.receiveObjectTransfer=F.jb,F.threadInitTLS=F.ab,F.setExitStatus=F.$a):Bt()},$a:e=>ie=e,tb:["$terminateWorker"],lb:()=>{for(var e of F.Qa)rt(e);for(e of F.Pa)rt(e);F.Pa=[],F.Qa=[],F.Ma=[]},Za:e=>{var i=e.Oa;delete F.Ma[i],F.Pa.push(e),F.Qa.splice(F.Qa.indexOf(e),1),e.Oa=0,hr(i)},jb(){},ab(){F.bb.forEach(e=>e())},Ya:e=>new Promise(i=>{e.onmessage=E=>{E=E.data;var P=E.cmd;if(E.targetThread&&E.targetThread!=kt()){var te=F.Ma[E.targetThread];te?te.postMessage(E,E.transferList):se(`Internal error! Worker sent a message "${P}" to target pthread ${E.targetThread}, but that thread no longer exists!`)}else P==="checkMailbox"?Lt():P==="spawnThread"?nt(E):P==="cleanupThread"?F.Za(F.Ma[E.thread]):P==="killThread"?(E=E.thread,P=F.Ma[E],delete F.Ma[E],rt(P),hr(E),F.Qa.splice(F.Qa.indexOf(P),1),P.Oa=0):P==="cancelThread"?F.Ma[E.thread].postMessage({cmd:"cancel"}):P==="loaded"?(e.loaded=!0,A&&!e.Oa&&e.unref(),i(e)):P==="alert"?alert(`Thread ${E.threadId}: ${E.text}`):E.target==="setimmediate"?e.postMessage(E):P==="callHandler"?s[E.handler](...E.args):P&&se(`worker sent an unknown command ${P}`)},e.onerror=E=>{throw se(`worker sent an error! ${E.filename}:${E.lineno}: ${E.message}`),E},A&&(e.on("message",E=>e.onmessage({data:E})),e.on("error",E=>e.onerror(E)));var f=[],g=["onExit"],_;for(_ of g)s.hasOwnProperty(_)&&f.push(_);e.postMessage({cmd:"load",handlers:f,urlOrBlob:s.mainScriptUrlOrBlob||n,wasmMemory:ne,wasmModule:Me})})};s.PThread=F;var je=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=()=>{var e=kt(),i=d()[e+52>>>2>>>0];e=d()[e+56>>>2>>>0],mn(i,i-e),Nt(i)};function Ft(e){if(S)return J(1,0,e);ot(e)}var Ne=[],wt;s.invokeEntryPoint=(e,i)=>{var f=Ne[e];f||(e>=Ne.length&&(Ne.length=e+1),Ne[e]=f=wt.get(e)),e=f(i),0<ze?F.$a(e):gr(e)};function o(e){this.Va=e-24,this.gb=function(i){d()[this.Va+4>>>2>>>0]=i},this.fb=function(i){d()[this.Va+8>>>2>>>0]=i},this.Wa=function(i,f){this.eb(),this.gb(i),this.fb(f)},this.eb=function(){d()[this.Va+16>>>2>>>0]=0}}var c=0,p=0;function w(e,i,f,g){return S?J(2,1,e,i,f,g):C(e,i,f,g)}function C(e,i,f,g){if(e>>>=0,i>>>=0,f>>>=0,g>>>=0,typeof SharedArrayBuffer>"u")return se("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var _=[];return S&&_.length===0?w(e,i,f,g):(e={kb:f,Oa:e,hb:g,qb:_},S?(e.sb="spawnThread",postMessage(e,_),0):nt(e))}function I(e,i,f){return S?J(3,1,e,i,f):0}function H(e,i){if(S)return J(4,1,e,i)}var ae=e=>{for(var i=0,f=0;f<e.length;++f){var g=e.charCodeAt(f);127>=g?i++:2047>=g?i+=2:55296<=g&&57343>=g?(i+=4,++f):i+=3}return i},me=(e,i,f,g)=>{if(f>>>=0,!(0<g))return 0;var _=f;g=f+g-1;for(var E=0;E<e.length;++E){var P=e.charCodeAt(E);if(55296<=P&&57343>=P){var te=e.charCodeAt(++E);P=65536+((P&1023)<<10)|te&1023}if(127>=P){if(f>=g)break;i[f++>>>0]=P}else{if(2047>=P){if(f+1>=g)break;i[f++>>>0]=192|P>>6}else{if(65535>=P){if(f+2>=g)break;i[f++>>>0]=224|P>>12}else{if(f+3>=g)break;i[f++>>>0]=240|P>>18,i[f++>>>0]=128|P>>12&63}i[f++>>>0]=128|P>>6&63}i[f++>>>0]=128|P&63}}return i[f>>>0]=0,f-_},le=(e,i,f)=>me(e,u(),i,f);function fe(e,i){if(S)return J(5,1,e,i)}function bt(e,i,f){if(S)return J(6,1,e,i,f)}function Ot(e,i,f){return S?J(7,1,e,i,f):0}function v(e,i){if(S)return J(8,1,e,i)}function z(e,i,f){if(S)return J(9,1,e,i,f)}function Q(e,i,f,g){if(S)return J(10,1,e,i,f,g)}function De(e,i,f,g){if(S)return J(11,1,e,i,f,g)}function vt(e,i,f,g){if(S)return J(12,1,e,i,f,g)}function $r(e){if(S)return J(13,1,e)}function zr(e,i){if(S)return J(14,1,e,i)}function jr(e,i,f){if(S)return J(15,1,e,i,f)}function fr(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(a(),e>>>2,e).value.then(Lt),e+=128,Atomics.store(a(),e>>>2,1))}s.__emscripten_thread_mailbox_await=fr;var Lt=()=>{var e=kt();if(e&&(fr(e),e=dn,!Te))try{if(e(),!(0<ze))try{S?gr(ie):ot(ie)}catch(i){i instanceof We||i=="unwind"||b(1,i)}}catch(i){i instanceof We||i=="unwind"||b(1,i)}};s.checkMailbox=Lt;var cr=[],st=e=>e%4===0&&(e%100!==0||e%400===0),Yr=[0,31,60,91,121,152,182,213,244,274,305,335],Vr=[0,31,59,90,120,151,181,212,243,273,304,334];function qr(e,i,f,g,_,E,P,te){return S?J(16,1,e,i,f,g,_,E,P,te):-52}function Jr(e,i,f,g,_,E,P){if(S)return J(17,1,e,i,f,g,_,E,P)}var Xr=e=>{var i=ae(e)+1,f=ln(i);return f&&le(e,f,i),f},dr=[],pr={},Qr=()=>{if(!mr){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:O||"./this.program"},i;for(i in pr)pr[i]===void 0?delete e[i]:e[i]=pr[i];var f=[];for(i in e)f.push(`${i}=${e[i]}`);mr=f}return mr},mr;function Zr(e,i){if(S)return J(18,1,e,i);e>>>=0,i>>>=0;var f=0;return Qr().forEach((g,_)=>{var E=i+f;for(_=d()[e+4*_>>>2>>>0]=E,E=0;E<g.length;++E)t()[_++>>>0>>>0]=g.charCodeAt(E);t()[_>>>0>>>0]=0,f+=g.length+1}),0}function Kr(e,i){if(S)return J(19,1,e,i);e>>>=0,i>>>=0;var f=Qr();d()[e>>>2>>>0]=f.length;var g=0;return f.forEach(_=>g+=_.length+1),d()[i>>>2>>>0]=g,0}function en(e){return S?J(20,1,e):52}function tn(e,i,f,g){return S?J(21,1,e,i,f,g):52}function rn(e,i,f,g,_){return S?J(22,1,e,i,f,g,_):70}var Na=[null,[],[]];function nn(e,i,f,g){if(S)return J(23,1,e,i,f,g);i>>>=0,f>>>=0,g>>>=0;for(var _=0,E=0;E<f;E++){var P=d()[i>>>2>>>0],te=d()[i+4>>>2>>>0];i+=8;for(var Be=0;Be<te;Be++){var ue=u()[P+Be>>>0],we=Na[e];ue===0||ue===10?((e===1?pe:se)(gt(we,0)),we.length=0):we.push(ue)}_+=te}return d()[g>>>2>>>0]=_,0}var an=[31,29,31,30,31,30,31,31,30,31,30,31],on=[31,28,31,30,31,30,31,31,30,31,30,31];function Ha(e){var i=Array(ae(e)+1);return me(e,i,0,i.length),i}var Wa=(e,i)=>{t().set(e,i>>>0)};function sn(e,i,f,g){function _(T,Y,re){for(T=typeof T=="number"?T.toString():T||"";T.length<Y;)T=re[0]+T;return T}function E(T,Y){return _(T,Y,"0")}function P(T,Y){function re(wn){return 0>wn?-1:0<wn?1:0}var Ye;return(Ye=re(T.getFullYear()-Y.getFullYear()))===0&&(Ye=re(T.getMonth()-Y.getMonth()))===0&&(Ye=re(T.getDate()-Y.getDate())),Ye}function te(T){switch(T.getDay()){case 0:return new Date(T.getFullYear()-1,11,29);case 1:return T;case 2:return new Date(T.getFullYear(),0,3);case 3:return new Date(T.getFullYear(),0,2);case 4:return new Date(T.getFullYear(),0,1);case 5:return new Date(T.getFullYear()-1,11,31);case 6:return new Date(T.getFullYear()-1,11,30)}}function Be(T){var Y=T.Ra;for(T=new Date(new Date(T.Sa+1900,0,1).getTime());0<Y;){var re=T.getMonth(),Ye=(st(T.getFullYear())?an:on)[re];if(Y>Ye-T.getDate())Y-=Ye-T.getDate()+1,T.setDate(1),11>re?T.setMonth(re+1):(T.setMonth(0),T.setFullYear(T.getFullYear()+1));else{T.setDate(T.getDate()+Y);break}}return re=new Date(T.getFullYear()+1,0,4),Y=te(new Date(T.getFullYear(),0,4)),re=te(re),0>=P(Y,T)?0>=P(re,T)?T.getFullYear()+1:T.getFullYear():T.getFullYear()-1}e>>>=0,i>>>=0,f>>>=0,g>>>=0;var ue=d()[g+40>>>2>>>0];g={ob:a()[g>>>2>>>0],nb:a()[g+4>>>2>>>0],Ta:a()[g+8>>>2>>>0],Xa:a()[g+12>>>2>>>0],Ua:a()[g+16>>>2>>>0],Sa:a()[g+20>>>2>>>0],Na:a()[g+24>>>2>>>0],Ra:a()[g+28>>>2>>>0],ub:a()[g+32>>>2>>>0],mb:a()[g+36>>>2>>>0],pb:ue?at(ue):""},f=at(f),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var we in ue)f=f.replace(new RegExp(we,"g"),ue[we]);var gn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),yn="January February March April May June July August September October November December".split(" ");ue={"%a":T=>gn[T.Na].substring(0,3),"%A":T=>gn[T.Na],"%b":T=>yn[T.Ua].substring(0,3),"%B":T=>yn[T.Ua],"%C":T=>E((T.Sa+1900)/100|0,2),"%d":T=>E(T.Xa,2),"%e":T=>_(T.Xa,2," "),"%g":T=>Be(T).toString().substring(2),"%G":T=>Be(T),"%H":T=>E(T.Ta,2),"%I":T=>(T=T.Ta,T==0?T=12:12<T&&(T-=12),E(T,2)),"%j":T=>{for(var Y=0,re=0;re<=T.Ua-1;Y+=(st(T.Sa+1900)?an:on)[re++]);return E(T.Xa+Y,3)},"%m":T=>E(T.Ua+1,2),"%M":T=>E(T.nb,2),"%n":()=>`
`,"%p":T=>0<=T.Ta&&12>T.Ta?"AM":"PM","%S":T=>E(T.ob,2),"%t":()=>"	","%u":T=>T.Na||7,"%U":T=>E(Math.floor((T.Ra+7-T.Na)/7),2),"%V":T=>{var Y=Math.floor((T.Ra+7-(T.Na+6)%7)/7);if(2>=(T.Na+371-T.Ra-2)%7&&Y++,Y)Y==53&&(re=(T.Na+371-T.Ra)%7,re==4||re==3&&st(T.Sa)||(Y=1));else{Y=52;var re=(T.Na+7-T.Ra-1)%7;(re==4||re==5&&st(T.Sa%400-1))&&Y++}return E(Y,2)},"%w":T=>T.Na,"%W":T=>E(Math.floor((T.Ra+7-(T.Na+6)%7)/7),2),"%y":T=>(T.Sa+1900).toString().substring(2),"%Y":T=>T.Sa+1900,"%z":T=>{T=T.mb;var Y=0<=T;return T=Math.abs(T)/60,(Y?"+":"-")+("0000"+(T/60*100+T%60)).slice(-4)},"%Z":T=>T.pb,"%%":()=>"%"},f=f.replace(/%%/g,"\0\0");for(we in ue)f.includes(we)&&(f=f.replace(new RegExp(we,"g"),ue[we](g)));return f=f.replace(/\0\0/g,"%"),we=Ha(f),we.length>i?0:(Wa(we,e),we.length-1)}F.Wa();var Ga=[D,Ft,w,I,H,fe,bt,Ot,v,z,Q,De,vt,$r,zr,jr,qr,Jr,Zr,Kr,en,tn,rn,nn],$a={b:function(e,i,f){throw e>>>=0,new o(e).Wa(i>>>0,f>>>0),c=e,p++,c},L:function(e){fn(e>>>0,!R,1,!M,131072,!1),F.ab()},j:function(e){e>>>=0,S?postMessage({cmd:"cleanupThread",thread:e}):F.Za(F.Ma[e])},H:C,h:I,S:H,D:fe,F:bt,T:Ot,Q:v,J:z,P:Q,n:De,E:vt,B:$r,R:zr,C:jr,p:()=>1,z:function(e,i){e>>>=0,e==i>>>0?setTimeout(()=>Lt()):S?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=F.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,i,f,g){i>>>=0,cr.length=f,g=g>>>0>>>3;for(var _=0;_<f;_++)cr[_]=l()[g+_>>>0];return e=0>e?tt[-e-1]:Ga[e],F.ib=i,i=e.apply(null,cr),F.ib=0,i},K:fr,o:function(e){A&&F.Ma[e>>>0].ref()},s:function(e,i,f){e=i+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*i:NaN,f>>>=0,e=new Date(1e3*e),a()[f>>>2>>>0]=e.getUTCSeconds(),a()[f+4>>>2>>>0]=e.getUTCMinutes(),a()[f+8>>>2>>>0]=e.getUTCHours(),a()[f+12>>>2>>>0]=e.getUTCDate(),a()[f+16>>>2>>>0]=e.getUTCMonth(),a()[f+20>>>2>>>0]=e.getUTCFullYear()-1900,a()[f+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[f+28>>>2>>>0]=e},t:function(e,i,f){e=i+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*i:NaN,f>>>=0,e=new Date(1e3*e),a()[f>>>2>>>0]=e.getSeconds(),a()[f+4>>>2>>>0]=e.getMinutes(),a()[f+8>>>2>>>0]=e.getHours(),a()[f+12>>>2>>>0]=e.getDate(),a()[f+16>>>2>>>0]=e.getMonth(),a()[f+20>>>2>>>0]=e.getFullYear()-1900,a()[f+24>>>2>>>0]=e.getDay(),i=(st(e.getFullYear())?Yr:Vr)[e.getMonth()]+e.getDate()-1|0,a()[f+28>>>2>>>0]=i,a()[f+36>>>2>>>0]=-(60*e.getTimezoneOffset()),i=new Date(e.getFullYear(),6,1).getTimezoneOffset();var g=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(i!=g&&e.getTimezoneOffset()==Math.min(g,i))|0,a()[f+32>>>2>>>0]=e},u:function(e){e>>>=0;var i=new Date(a()[e+20>>>2>>>0]+1900,a()[e+16>>>2>>>0],a()[e+12>>>2>>>0],a()[e+8>>>2>>>0],a()[e+4>>>2>>>0],a()[e>>>2>>>0],0),f=a()[e+32>>>2>>>0],g=i.getTimezoneOffset(),_=new Date(i.getFullYear(),6,1).getTimezoneOffset(),E=new Date(i.getFullYear(),0,1).getTimezoneOffset(),P=Math.min(E,_);return 0>f?a()[e+32>>>2>>>0]=+(_!=E&&P==g):0<f!=(P==g)&&(_=Math.max(E,_),i.setTime(i.getTime()+6e4*((0<f?P:_)-g))),a()[e+24>>>2>>>0]=i.getDay(),f=(st(i.getFullYear())?Yr:Vr)[i.getMonth()]+i.getDate()-1|0,a()[e+28>>>2>>>0]=f,a()[e>>>2>>>0]=i.getSeconds(),a()[e+4>>>2>>>0]=i.getMinutes(),a()[e+8>>>2>>>0]=i.getHours(),a()[e+12>>>2>>>0]=i.getDate(),a()[e+16>>>2>>>0]=i.getMonth(),a()[e+20>>>2>>>0]=i.getYear(),e=i.getTime(),isNaN(e)?(a()[un()>>>2>>>0]=61,e=-1):e/=1e3,pn((ke=e,1<=+Math.abs(ke)?0<ke?+Math.floor(ke/4294967296)>>>0:~~+Math.ceil((ke-+(~~ke>>>0))/4294967296)>>>0:0)),e>>>0},q:qr,r:Jr,y:function(e,i,f){function g(ue){return(ue=ue.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ue[1]:"GMT"}e>>>=0,i>>>=0,f>>>=0;var _=new Date().getFullYear(),E=new Date(_,0,1),P=new Date(_,6,1);_=E.getTimezoneOffset();var te=P.getTimezoneOffset(),Be=Math.max(_,te);d()[e>>>2>>>0]=60*Be,a()[i>>>2>>>0]=+(_!=te),e=g(E),i=g(P),e=Xr(e),i=Xr(i),te<_?(d()[f>>>2>>>0]=e,d()[f+4>>>2>>>0]=i):(d()[f>>>2>>>0]=i,d()[f+4>>>2>>>0]=e)},c:()=>{Fe("")},O:function(e,i,f){e>>>=0,i>>>=0,f>>>=0,dr.length=0;for(var g;g=u()[i++>>>0];){var _=g!=105;_&=g!=112,f+=_&&f%8?4:0,dr.push(g==112?d()[f>>>2>>>0]:g==105?a()[f>>>2>>>0]:l()[f>>>3>>>0]),f+=_?8:4}return tt[e].apply(null,dr)},k:()=>{},i:()=>Date.now(),U:()=>{throw ze+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>A?(Kn(),ut(Zn)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var i=u().length;if(e<=i||4294901760<e)return!1;for(var f=1;4>=f;f*=2){var g=i*(1+.2/f);g=Math.min(g,e+100663296);var _=Math;g=Math.max(e,g);e:{_=(_.min.call(_,4294901760,g+(65536-g%65536)%65536)-ne.buffer.byteLength+65535)/65536;try{ne.grow(_),Z();var E=1;break e}catch{}E=void 0}if(E)return!0}return!1},M:Zr,N:Kr,G:ot,g:en,m:tn,v:rn,l:nn,a:ne||s.wasmMemory,w:sn,d:function(e,i,f,g){return sn(e>>>0,i>>>0,f>>>0,g>>>0)}},B=function(){function e(f,g){return B=f.exports,B=za(),F.bb.push(B.za),wt=B.Aa,Pe.unshift(B.V),Me=g,xe(),B}var i={a:$a};if(Se++,s.instantiateWasm)try{return s.instantiateWasm(i,e)}catch(f){se(`Module.instantiateWasm callback failed with error: ${f}`),m(f)}return It(i,function(f){e(f.instance,f.module)}).catch(m),{}}();s._OrtInit=(e,i)=>(s._OrtInit=B.W)(e,i),s._OrtGetLastError=(e,i)=>(s._OrtGetLastError=B.X)(e,i),s._OrtCreateSessionOptions=(e,i,f,g,_,E,P,te,Be,ue)=>(s._OrtCreateSessionOptions=B.Y)(e,i,f,g,_,E,P,te,Be,ue),s._OrtAppendExecutionProvider=(e,i)=>(s._OrtAppendExecutionProvider=B.Z)(e,i),s._OrtAddFreeDimensionOverride=(e,i,f)=>(s._OrtAddFreeDimensionOverride=B._)(e,i,f),s._OrtAddSessionConfigEntry=(e,i,f)=>(s._OrtAddSessionConfigEntry=B.$)(e,i,f),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=B.aa)(e),s._OrtCreateSession=(e,i,f)=>(s._OrtCreateSession=B.ba)(e,i,f),s._OrtReleaseSession=e=>(s._OrtReleaseSession=B.ca)(e),s._OrtGetInputOutputCount=(e,i,f)=>(s._OrtGetInputOutputCount=B.da)(e,i,f),s._OrtGetInputName=(e,i)=>(s._OrtGetInputName=B.ea)(e,i),s._OrtGetOutputName=(e,i)=>(s._OrtGetOutputName=B.fa)(e,i),s._OrtFree=e=>(s._OrtFree=B.ga)(e),s._OrtCreateTensor=(e,i,f,g,_,E)=>(s._OrtCreateTensor=B.ha)(e,i,f,g,_,E),s._OrtGetTensorData=(e,i,f,g,_)=>(s._OrtGetTensorData=B.ia)(e,i,f,g,_),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=B.ja)(e),s._OrtCreateRunOptions=(e,i,f,g)=>(s._OrtCreateRunOptions=B.ka)(e,i,f,g),s._OrtAddRunConfigEntry=(e,i,f)=>(s._OrtAddRunConfigEntry=B.la)(e,i,f),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=B.ma)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=B.na)(e),s._OrtBindInput=(e,i,f)=>(s._OrtBindInput=B.oa)(e,i,f),s._OrtBindOutput=(e,i,f,g)=>(s._OrtBindOutput=B.pa)(e,i,f,g),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=B.qa)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=B.ra)(e),s._OrtRunWithBinding=(e,i,f,g,_)=>(s._OrtRunWithBinding=B.sa)(e,i,f,g,_),s._OrtRun=(e,i,f,g,_,E,P,te)=>(s._OrtRun=B.ta)(e,i,f,g,_,E,P,te),s._OrtEndProfiling=e=>(s._OrtEndProfiling=B.ua)(e);var un=()=>(un=B.va)(),kt=s._pthread_self=()=>(kt=s._pthread_self=B.wa)(),ln=s._malloc=e=>(ln=s._malloc=B.xa)(e);s._free=e=>(s._free=B.ya)(e),s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=B.za)();var fn=s.__emscripten_thread_init=(e,i,f,g,_,E)=>(fn=s.__emscripten_thread_init=B.Ba)(e,i,f,g,_,E);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=B.Ca)();var cn=(e,i,f,g)=>(cn=B.Da)(e,i,f,g),hr=e=>(hr=B.Ea)(e),gr=s.__emscripten_thread_exit=e=>(gr=s.__emscripten_thread_exit=B.Fa)(e),dn=()=>(dn=B.Ga)(),pn=e=>(pn=B.Ha)(e),mn=(e,i)=>(mn=B.Ia)(e,i),yr=()=>(yr=B.Ja)(),Nt=e=>(Nt=B.Ka)(e),wr=e=>(wr=B.La)(e);function za(){var e=B;e=Object.assign({},e);var i=g=>()=>g()>>>0,f=g=>_=>g(_)>>>0;return e.va=i(e.va),e.wa=i(e.wa),e.xa=f(e.xa),e.emscripten_main_runtime_thread_id=i(e.emscripten_main_runtime_thread_id),e.Ja=i(e.Ja),e.La=f(e.La),e}s.wasmMemory=ne,s.stackAlloc=wr,s.stackSave=yr,s.stackRestore=Nt,s.keepRuntimeAlive=()=>0<ze,s.UTF8ToString=at,s.stringToUTF8=le,s.lengthBytesUTF8=ae,s.ExitStatus=We,s.PThread=F;var Ht;ye=function e(){Ht||hn(),Ht||(ye=e)};function hn(){if(!(0<Se))if(S)h(s),S||je(Pe),startWorker(s);else{if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Ge.unshift(s.preRun.shift());je(Ge),0<Se||Ht||(Ht=!0,s.calledRun=!0,Te||(S||je(Pe),h(s),S||je(Ee)))}}return hn(),r.ready}})();typeof ta=="object"&&typeof Rr=="object"?Rr.exports=ea:typeof define=="function"&&define.amd&&define([],()=>ea)});var na=it((ps,ro)=>{ro.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n'});var oa,no,Pr,xr,Jt,aa,ao,oo,so,sa,W,Ze=$(()=>{"use strict";oa=Jn();no=ra(),xr=!1,Jt=!1,aa=!1,ao=n=>{if(n===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+n+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+n+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},oo=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},so=(n,r)=>n?"ort-training-wasm-simd.wasm":r?"ort-wasm-threaded.wasm":"ort-wasm.wasm",sa=async n=>{if(xr)return Promise.resolve();if(Jt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(aa)throw new Error("previous call to 'initializeWebAssembly()' failed.");Jt=!0;let r=n.initTimeout,t=n.numThreads,u=n.simd,a=ao(t),d=u&&oo(),l=n.wasmPaths,s=typeof l=="string"?l:void 0,h=so(d,a),m=typeof l=="object"?l[h]:void 0,y=!1,O=[];if(r>0&&O.push(new Promise(b=>{setTimeout(()=>{y=!0,b()},r)})),O.push(new Promise((b,M)=>{let R=a?no:oa,A={locateFile:(S,U)=>a&&S.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([na()],{type:"text/javascript"})):S.endsWith(".wasm")?m||(s??U)+h:U+S};if(a)if(A.numThreads=t,typeof Blob>"u")A.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let S=`var ortWasmThreaded=${R.toString()};`;A.mainScriptUrlOrBlob=new Blob([S],{type:"text/javascript"})}R(A).then(S=>{Jt=!1,xr=!0,Pr=S,b()},S=>{Jt=!1,aa=!0,M(S)})})),await Promise.race(O),y)throw new Error(`WebAssembly backend initializing failed due to timeout: ${r}ms`)},W=()=>{if(xr&&Pr)return Pr;throw new Error("WebAssembly is not initialized yet.")}});var ee,St,X,At=$(()=>{"use strict";Ze();ee=(n,r)=>{let t=W(),u=t.lengthBytesUTF8(n)+1,a=t._malloc(u);return t.stringToUTF8(n,a,u),r.push(a),a},St=(n,r,t,u)=>{if(typeof n=="object"&&n!==null){if(t.has(n))throw new Error("Circular reference in options");t.add(n)}Object.entries(n).forEach(([a,d])=>{let l=r?r+a:a;if(typeof d=="object")St(d,l+".",t,u);else if(typeof d=="string"||typeof d=="number")u(l,d.toString());else if(typeof d=="boolean")u(l,d?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof d}`)})},X=n=>{let r=W(),t=r.stackSave();try{let u=r.stackAlloc(8);r._OrtGetLastError(u,u+4);let a=r.HEAP32[u/4],d=r.HEAPU32[u/4+1],l=d?r.UTF8ToString(d):"";throw new Error(`${n} ERROR_CODE: ${a}, ERROR_MESSAGE: ${l}`)}finally{r.stackRestore(t)}}});var lt,Ir=$(()=>{"use strict";Ze();At();lt=n=>{let r=W(),t=0,u=[],a=n||{};try{if(n?.logSeverityLevel===void 0)a.logSeverityLevel=2;else if(typeof n.logSeverityLevel!="number"||!Number.isInteger(n.logSeverityLevel)||n.logSeverityLevel<0||n.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${n.logSeverityLevel}`);if(n?.logVerbosityLevel===void 0)a.logVerbosityLevel=0;else if(typeof n.logVerbosityLevel!="number"||!Number.isInteger(n.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${n.logVerbosityLevel}`);n?.terminate===void 0&&(a.terminate=!1);let d=0;return n?.tag!==void 0&&(d=ee(n.tag,u)),t=r._OrtCreateRunOptions(a.logSeverityLevel,a.logVerbosityLevel,!!a.terminate,d),t===0&&X("Can't create run options."),n?.extra!==void 0&&St(n.extra,"",new WeakSet,(l,s)=>{let h=ee(l,u),m=ee(s,u);r._OrtAddRunConfigEntry(t,h,m)!==0&&X(`Can't set a run config entry: ${l} - ${s}.`)}),[t,u]}catch(d){throw t!==0&&r._OrtReleaseRunOptions(t),u.forEach(l=>r._free(l)),d}}});var io,uo,lo,fo,Xt,Dr=$(()=>{"use strict";Ze();At();io=n=>{switch(n){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${n}`)}},uo=n=>{switch(n){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${n}`)}},lo=n=>{n.extra||(n.extra={}),n.extra.session||(n.extra.session={});let r=n.extra.session;r.use_ort_model_bytes_directly||(r.use_ort_model_bytes_directly="1"),n.executionProviders&&n.executionProviders.some(t=>(typeof t=="string"?t:t.name)==="webgpu")&&(n.enableMemPattern=!1)},fo=(n,r,t)=>{for(let u of r){let a=typeof u=="string"?u:u.name;switch(a){case"webnn":if(a="WEBNN",typeof u!="string"){let l=u;if(l?.deviceType){let s=ee("deviceType",t),h=ee(l.deviceType,t);W()._OrtAddSessionConfigEntry(n,s,h)!==0&&X(`Can't set a session config entry: 'deviceType' - ${l.deviceType}.`)}if(l?.numThreads){let s=l.numThreads;(typeof s!="number"||!Number.isInteger(s)||s<0)&&(s=0);let h=ee("numThreads",t),m=ee(s.toString(),t);W()._OrtAddSessionConfigEntry(n,h,m)!==0&&X(`Can't set a session config entry: 'numThreads' - ${l.numThreads}.`)}if(l?.powerPreference){let s=ee("powerPreference",t),h=ee(l.powerPreference,t);W()._OrtAddSessionConfigEntry(n,s,h)!==0&&X(`Can't set a session config entry: 'powerPreference' - ${l.powerPreference}.`)}}break;case"webgpu":if(a="JS",typeof u!="string"){let l=u;if(l?.preferredLayout){if(l.preferredLayout!=="NCHW"&&l.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${l.preferredLayout}`);let s=ee("preferredLayout",t),h=ee(l.preferredLayout,t);W()._OrtAddSessionConfigEntry(n,s,h)!==0&&X(`Can't set a session config entry: 'preferredLayout' - ${l.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${a}`)}let d=ee(a,t);W()._OrtAppendExecutionProvider(n,d)!==0&&X(`Can't append execution provider: ${a}.`)}},Xt=n=>{let r=W(),t=0,u=[],a=n||{};lo(a);try{let d=io(a.graphOptimizationLevel??"all"),l=uo(a.executionMode??"sequential"),s=typeof a.logId=="string"?ee(a.logId,u):0,h=a.logSeverityLevel??2;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log serverity level is not valid: ${h}`);let m=a.logVerbosityLevel??0;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log verbosity level is not valid: ${m}`);let y=typeof a.optimizedModelFilePath=="string"?ee(a.optimizedModelFilePath,u):0;if(t=r._OrtCreateSessionOptions(d,!!a.enableCpuMemArena,!!a.enableMemPattern,l,!!a.enableProfiling,0,s,h,m,y),t===0&&X("Can't create session options."),a.executionProviders&&fo(t,a.executionProviders,u),a.enableGraphCapture!==void 0){if(typeof a.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${a.enableGraphCapture}`);let O=ee("enableGraphCapture",u),b=ee(a.enableGraphCapture.toString(),u);r._OrtAddSessionConfigEntry(t,O,b)!==0&&X(`Can't set a session config entry: 'enableGraphCapture' - ${a.enableGraphCapture}.`)}if(a.freeDimensionOverrides)for(let[O,b]of Object.entries(a.freeDimensionOverrides)){if(typeof O!="string")throw new Error(`free dimension override name must be a string: ${O}`);if(typeof b!="number"||!Number.isInteger(b)||b<0)throw new Error(`free dimension override value must be a non-negative integer: ${b}`);let M=ee(O,u);r._OrtAddFreeDimensionOverride(t,M,b)!==0&&X(`Can't set a free dimension override: ${O} - ${b}.`)}return a.extra!==void 0&&St(a.extra,"",new WeakSet,(O,b)=>{let M=ee(O,u),R=ee(b,u);r._OrtAddSessionConfigEntry(t,M,R)!==0&&X(`Can't set a session config entry: ${O} - ${b}.`)}),[t,u]}catch(d){throw t!==0&&r._OrtReleaseSessionOptions(t),u.forEach(l=>r._free(l)),d}}});var ft,Qt,Br,Mt,ia,Zt,Ct,Kt=$(()=>{"use strict";ft=n=>{switch(n){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${n}`)}},Qt=n=>{switch(n){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${n}`)}},Br=n=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][n],Mt=n=>{switch(n){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${n}`)}},ia=n=>{switch(n){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${n}`)}},Zt=n=>n==="float32"||n==="int32"||n==="int64"||n==="bool"||n==="float16"||n==="uint32",Ct=n=>{switch(n){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${n}`)}}});var Rt,Ur=$(()=>{"use strict";Rt=async n=>{if(typeof n=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(n))}catch(r){if(r.code==="ERR_FS_FILE_TOO_LARGE"){let t=(void 0)(n),u=[];for await(let a of t)u.push(a);return new Uint8Array(Buffer.concat(u))}throw r}else{let r=await fetch(n);if(!r.ok)throw new Error(`failed to load external data file: ${n}`);let t=r.headers.get("Content-Length"),u=t?parseInt(t,10):0;if(u<1073741824)return new Uint8Array(await r.arrayBuffer());{if(!r.body)throw new Error(`failed to load external data file: ${n}, no response body.`);let a=r.body.getReader(),d;try{d=new ArrayBuffer(u)}catch(s){if(s instanceof RangeError){let h=Math.ceil(u/65536);d=new WebAssembly.Memory({initial:h,maximum:h}).buffer}else throw s}let l=0;for(;;){let{done:s,value:h}=await a.read();if(s)break;let m=h.byteLength;new Uint8Array(d,l,m).set(h),l+=m}return new Uint8Array(d,0,u)}}else return n instanceof Blob?new Uint8Array(await n.arrayBuffer()):n instanceof Uint8Array?n:new Uint8Array(n)}});var co,ua,la,ct,po,Pt,fa,ca,er,da,pa,ma,tr=$(()=>{"use strict";Ir();Dr();Kt();Ze();At();Ur();co=(n,r)=>{W()._OrtInit(n,r)!==0&&X("Can't initialize onnxruntime.")},ua=async n=>{co(n.wasm.numThreads,ia(n.logLevel))},la=async(n,r)=>{},ct=new Map,po=n=>{let r=W(),t=r.stackSave();try{let u=r.stackAlloc(8);return r._OrtGetInputOutputCount(n,u,u+4)!==0&&X("Can't get session input/output count."),[r.HEAP32[u/4],r.HEAP32[u/4+1]]}finally{r.stackRestore(t)}},Pt=n=>{let r=W(),t=r._malloc(n.byteLength);if(t===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${n.byteLength}.`);return r.HEAPU8.set(n,t),[t,n.byteLength]},fa=async(n,r)=>{let t,u,a=W();Array.isArray(n)?[t,u]=n:n.buffer===a.HEAPU8.buffer?[t,u]=[n.byteOffset,n.byteLength]:[t,u]=Pt(n);let d=0,l=0,s=0,h=[],m=[],y=[];try{if([l,h]=Xt(r),r?.externalData&&a.mountExternalData){let k=[];for(let L of r.externalData){let G=typeof L=="string"?L:L.path;k.push(Rt(typeof L=="string"?L:L.data).then(j=>{a.mountExternalData(G,j)}))}await Promise.all(k)}d=await a._OrtCreateSession(t,u,l),d===0&&X("Can't create a session.");let[O,b]=po(d),M=!!r?.enableGraphCapture,R=[],A=[],S=[];for(let k=0;k<O;k++){let L=a._OrtGetInputName(d,k);L===0&&X("Can't get an input name."),m.push(L),R.push(a.UTF8ToString(L))}for(let k=0;k<b;k++){let L=a._OrtGetOutputName(d,k);L===0&&X("Can't get an output name."),y.push(L);let G=a.UTF8ToString(L);A.push(G)}let U=null;return ct.set(d,[d,m,y,U,M,!1]),[d,R,A]}catch(O){throw m.forEach(b=>a._OrtFree(b)),y.forEach(b=>a._OrtFree(b)),s!==0&&a._OrtReleaseBinding(s),d!==0&&a._OrtReleaseSession(d),O}finally{a._free(t),l!==0&&a._OrtReleaseSessionOptions(l),h.forEach(O=>a._free(O)),a.unmountExternalData?.()}},ca=n=>{let r=W(),t=ct.get(n);if(!t)throw new Error(`cannot release session. invalid session id: ${n}`);let[u,a,d,l,s]=t;l&&(s&&r._OrtClearBoundOutputs(l.handle),r._OrtReleaseBinding(l.handle)),r.jsepOnReleaseSession?.(n),a.forEach(h=>r._OrtFree(h)),d.forEach(h=>r._OrtFree(h)),r._OrtReleaseSession(u),ct.delete(n)},er=(n,r,t,u,a,d=!1)=>{if(!n){r.push(0);return}let l=W(),s=n[0],h=n[1],m=n[3],y,O;if(s==="string"&&m==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(d&&m!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${a} when enableGraphCapture is true.`);if(m==="gpu-buffer"){let R=n[2].gpuBuffer,A=Br(ft(s));O=h.reduce((S,U)=>S*U,1)*A,y=l.jsepRegisterBuffer(u,a,R,O)}else{let R=n[2];if(Array.isArray(R)){O=4*R.length,y=l._malloc(O),t.push(y);let A=y/4;for(let S=0;S<R.length;S++){if(typeof R[S]!="string")throw new TypeError(`tensor data at index ${S} is not a string`);l.HEAPU32[A++]=ee(R[S],t)}}else O=R.byteLength,y=l._malloc(O),t.push(y),l.HEAPU8.set(new Uint8Array(R.buffer,R.byteOffset,O),y)}let b=l.stackSave(),M=l.stackAlloc(4*h.length);try{let R=M/4;h.forEach(S=>l.HEAP32[R++]=S);let A=l._OrtCreateTensor(ft(s),y,O,M,h.length,Ct(m));A===0&&X(`Can't create tensor for input/output. session=${u}, index=${a}.`),r.push(A)}finally{l.stackRestore(b)}},da=async(n,r,t,u,a,d)=>{let l=W(),s=ct.get(n);if(!s)throw new Error(`cannot run inference. invalid session id: ${n}`);let h=s[0],m=s[1],y=s[2],O=s[3],b=s[4],M=s[5],R=r.length,A=u.length,S=0,U=[],k=[],L=[],G=[],j=l.stackSave(),x=l.stackAlloc(R*4),q=l.stackAlloc(R*4),Ue=l.stackAlloc(A*4),He=l.stackAlloc(A*4);try{[S,U]=lt(d);for(let N=0;N<R;N++)er(t[N],k,G,n,r[N],b);for(let N=0;N<A;N++)er(a[N],L,G,n,R+u[N],b);let pe=x/4,se=q/4,ne=Ue/4,Me=He/4;for(let N=0;N<R;N++)l.HEAPU32[pe++]=k[N],l.HEAPU32[se++]=m[r[N]];for(let N=0;N<A;N++)l.HEAPU32[ne++]=L[N],l.HEAPU32[Me++]=y[u[N]];l.jsepOnRunStart?.(h);let Te;Te=await l._OrtRun(h,q,x,R,He,A,Ue,S),Te!==0&&X("failed to call OrtRun().");let ie=[];for(let N=0;N<A;N++){let _e=l.HEAPU32[Ue/4+N];if(_e===L[N]){ie.push(a[N]);continue}let Ce=l.stackSave(),ce=l.stackAlloc(4*4),Re=!1,Z,ge=0;try{l._OrtGetTensorData(_e,ce,ce+4,ce+8,ce+12)!==0&&X(`Can't access output tensor data on index ${N}.`);let Pe=ce/4,Ee=l.HEAPU32[Pe++];ge=l.HEAPU32[Pe++];let Se=l.HEAPU32[Pe++],$e=l.HEAPU32[Pe++],ye=[];for(let oe=0;oe<$e;oe++)ye.push(l.HEAPU32[Se/4+oe]);l._OrtFree(Se);let xe=ye.reduce((oe,K)=>oe*K,1);Z=Qt(Ee);let Fe=O?.outputPreferredLocations[u[N]];if(Z==="string"){if(Fe==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let oe=[],K=ge/4;for(let Oe=0;Oe<xe;Oe++){let Le=l.HEAPU32[K++],Ie=Oe===xe-1?void 0:l.HEAPU32[K]-Le;oe.push(l.UTF8ToString(Le,Ie))}ie.push([Z,ye,oe,"cpu"])}else if(Fe==="gpu-buffer"&&xe>0){let oe=l.jsepGetBuffer(ge),K=Br(Ee);if(K===void 0||!Zt(Z))throw new Error(`Unsupported data type: ${Z}`);Re=!0,ie.push([Z,ye,{gpuBuffer:oe,download:l.jsepCreateDownloader(oe,xe*K,Z),dispose:()=>{l._OrtReleaseTensor(_e)}},"gpu-buffer"])}else{let oe=Mt(Z),K=new oe(xe);new Uint8Array(K.buffer,K.byteOffset,K.byteLength).set(l.HEAPU8.subarray(ge,ge+K.byteLength)),ie.push([Z,ye,K,"cpu"])}}finally{l.stackRestore(Ce),Z==="string"&&ge&&l._free(ge),Re||l._OrtReleaseTensor(_e)}}return O&&!b&&(l._OrtClearBoundOutputs(O.handle),ct.set(n,[h,m,y,O,b,!1])),ie}finally{l.stackRestore(j),k.forEach(pe=>l._OrtReleaseTensor(pe)),L.forEach(pe=>l._OrtReleaseTensor(pe)),G.forEach(pe=>l._free(pe)),S!==0&&l._OrtReleaseRunOptions(S),U.forEach(pe=>l._free(pe))}},pa=n=>{let r=W(),t=ct.get(n);if(!t)throw new Error("invalid session id");let u=t[0],a=r._OrtEndProfiling(u);a===0&&X("Can't get an profile file name."),r._OrtFree(a)},ma=n=>{let r=[];for(let t of n){let u=t[2];!Array.isArray(u)&&"buffer"in u&&r.push(u.buffer)}return r}});var ha=it((Ds,ho)=>{ho.exports='/*!\n * ONNX Runtime Web v1.18.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var St=Object.defineProperty;var Jr=Object.getOwnPropertyDescriptor;var Xr=Object.getOwnPropertyNames;var Qr=Object.prototype.hasOwnProperty;var Et=(u,d)=>()=>(u&&(d=u(u=0)),d);var tt=(u,d)=>()=>(d||u((d={exports:{}}).exports,d),d.exports),Tt=(u,d)=>{for(var a in d)St(u,a,{get:d[a],enumerable:!0})},Zr=(u,d,a,h)=>{if(d&&typeof d=="object"||typeof d=="function")for(let f of Xr(d))!Qr.call(u,f)&&f!==a&&St(u,f,{get:()=>d[f],enumerable:!(h=Jr(d,f))||h.enumerable});return u};var rt=u=>Zr(St({},"__esModule",{value:!0}),u);var At={};Tt(At,{createReadStream:()=>dr,readFile:()=>Kr,readFileSync:()=>en});var Kr,en,dr,Mt=Et(()=>{Kr=void 0,en=void 0,dr=void 0});var Ct={};Tt(Ct,{join:()=>tn});var tn,Dt=Et(()=>{tn=void 0});var gr=tt((mr,xt)=>{"use strict";var pr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(d={}){var a=d,h,f;a.ready=new Promise((t,o)=>{h=t,f=o});var b=Object.assign({},a),g="./this.program",s=typeof window=="object",E=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U="",D,R,ee;if(P){var B=(Mt(),rt(At)),L=(Dt(),rt(Ct));U=E?L.dirname(U)+"/":__dirname+"/",D=(t,o)=>(t=ve(t)?new URL(t):L.normalize(t),B.readFileSync(t,o?void 0:"utf8")),ee=t=>(t=D(t,!0),t.buffer||(t=new Uint8Array(t)),t),R=(t,o,i,c=!0)=>{t=ve(t)?new URL(t):L.normalize(t),B.readFile(t,c?void 0:"utf8",(w,S)=>{w?i(w):o(c?S.buffer:S)})},!a.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(s||E)&&(E?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),u&&(U=u),U.indexOf("blob:")!==0?U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):U="",D=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.send(null),o.responseText},E&&(ee=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),R=(t,o,i)=>{var c=new XMLHttpRequest;c.open("GET",t,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?o(c.response):i()},c.onerror=i,c.send(null)});var v=console.log.bind(console),k=console.error.bind(console);Object.assign(a,b),b=null,typeof WebAssembly!="object"&&x("no native wasm support detected");var G,W=!1,ie,te,T,z,Ce;function Pe(){var t=G.buffer;a.HEAP8=ie=new Int8Array(t),a.HEAP16=new Int16Array(t),a.HEAPU8=te=new Uint8Array(t),a.HEAPU16=new Uint16Array(t),a.HEAP32=T=new Int32Array(t),a.HEAPU32=z=new Uint32Array(t),a.HEAPF32=new Float32Array(t),a.HEAPF64=Ce=new Float64Array(t)}var le=[],ne=[],Q=[],we=0,he=null,ae=null;function x(t){throw t="Aborted("+t+")",k(t),W=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),f(t),t}var ye=t=>t.startsWith("data:application/octet-stream;base64,"),ve=t=>t.startsWith("file://"),fe;if(fe="ort-training-wasm-simd.wasm",!ye(fe)){var _e=fe;fe=a.locateFile?a.locateFile(_e,U):U+_e}function j(t){if(ee)return ee(t);throw"both async and sync fetching of the wasm failed"}function de(t){if(s||E){if(typeof fetch=="function"&&!ve(t))return fetch(t,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+t+"\'";return o.arrayBuffer()}).catch(()=>j(t));if(R)return new Promise((o,i)=>{R(t,c=>o(new Uint8Array(c)),i)})}return Promise.resolve().then(()=>j(t))}function Be(t,o,i){return de(t).then(c=>WebAssembly.instantiate(c,o)).then(c=>c).then(i,c=>{k(`failed to asynchronously prepare wasm: ${c}`),x(c)})}function Se(t,o){var i=fe;return typeof WebAssembly.instantiateStreaming!="function"||ye(i)||ve(i)||P||typeof fetch!="function"?Be(i,t,o):fetch(i,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,t).then(o,function(w){return k(`wasm streaming compile failed: ${w}`),k("falling back to ArrayBuffer instantiation"),Be(i,t,o)}))}var Oe,be={990352:(t,o,i,c)=>{if(typeof a>"u"||!a.Qa)return 1;if(t=Y(t>>>0),t.startsWith("./")&&(t=t.substring(2)),t=a.Qa.get(t),!t)return 2;if(o>>>=0,i>>>=0,o+i>t.byteLength)return 3;try{return te.set(t.subarray(o,o+i),c>>>0>>>0),0}catch{return 4}}};function Le(t){this.Ka=t-24,this.Pa=function(o){z[this.Ka+4>>>2>>>0]=o},this.Oa=function(o){z[this.Ka+8>>>2>>>0]=o},this.Ma=function(o,i){this.Na(),this.Pa(o),this.Oa(i)},this.Na=function(){z[this.Ka+16>>>2>>>0]=0}}var pe=0,Ee=0,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,re=(t,o,i)=>{o>>>=0;var c=o+i;for(i=o;t[i]&&!(i>=c);)++i;if(16<i-o&&t.buffer&&De)return De.decode(t.subarray(o,i));for(c="";o<i;){var w=t[o++];if(w&128){var S=t[o++]&63;if((w&224)==192)c+=String.fromCharCode((w&31)<<6|S);else{var F=t[o++]&63;w=(w&240)==224?(w&15)<<12|S<<6|F:(w&7)<<18|S<<12|F<<6|t[o++]&63,65536>w?c+=String.fromCharCode(w):(w-=65536,c+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else c+=String.fromCharCode(w)}return c},Y=(t,o)=>(t>>>=0)?re(te,t,o):"",ge=t=>{for(var o=0,i=0;i<t.length;++i){var c=t.charCodeAt(i);127>=c?o++:2047>=c?o+=2:55296<=c&&57343>=c?(o+=4,++i):o+=3}return o},xe=(t,o,i,c)=>{if(i>>>=0,!(0<c))return 0;var w=i;c=i+c-1;for(var S=0;S<t.length;++S){var F=t.charCodeAt(S);if(55296<=F&&57343>=F){var Z=t.charCodeAt(++S);F=65536+((F&1023)<<10)|Z&1023}if(127>=F){if(i>=c)break;o[i++>>>0]=F}else{if(2047>=F){if(i+1>=c)break;o[i++>>>0]=192|F>>6}else{if(65535>=F){if(i+2>=c)break;o[i++>>>0]=224|F>>12}else{if(i+3>=c)break;o[i++>>>0]=240|F>>18,o[i++>>>0]=128|F>>12&63}o[i++>>>0]=128|F>>6&63}o[i++>>>0]=128|F&63}}return o[i>>>0]=0,i-w},Te=t=>t%4===0&&(t%100!==0||t%400===0),qe=[0,31,60,91,121,152,182,213,244,274,305,335],at=[0,31,59,90,120,151,181,212,243,273,304,334],Fe=t=>{var o=ge(t)+1,i=it(o);return i&&xe(t,te,i,o),i},We=[],Ue={},He=()=>{if(!Ge){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in Ue)Ue[o]===void 0?delete t[o]:t[o]=Ue[o];var i=[];for(o in t)i.push(`${o}=${t[o]}`);Ge=i}return Ge},Ge,Ie=[null,[],[]],Ve=[31,29,31,30,31,30,31,31,30,31,30,31],Je=[31,28,31,30,31,30,31,31,30,31,30,31];function $e(t){var o=Array(ge(t)+1);return xe(t,o,0,o.length),o}function ot(t,o,i,c){function w(p,I,$){for(p=typeof p=="number"?p.toString():p||"";p.length<I;)p=$[0]+p;return p}function S(p,I){return w(p,I,"0")}function F(p,I){function $(et){return 0>et?-1:0<et?1:0}var Ae;return(Ae=$(p.getFullYear()-I.getFullYear()))===0&&(Ae=$(p.getMonth()-I.getMonth()))===0&&(Ae=$(p.getDate()-I.getDate())),Ae}function Z(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function ce(p){var I=p.Ga;for(p=new Date(new Date(p.Ha+1900,0,1).getTime());0<I;){var $=p.getMonth(),Ae=(Te(p.getFullYear())?Ve:Je)[$];if(I>Ae-p.getDate())I-=Ae-p.getDate()+1,p.setDate(1),11>$?p.setMonth($+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+I);break}}return $=new Date(p.getFullYear()+1,0,4),I=Z(new Date(p.getFullYear(),0,4)),$=Z($),0>=F(I,p)?0>=F($,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}t>>>=0,o>>>=0,i>>>=0,c>>>=0;var se=z[c+40>>>2>>>0];c={Ta:T[c>>>2>>>0],Sa:T[c+4>>>2>>>0],Ia:T[c+8>>>2>>>0],La:T[c+12>>>2>>>0],Ja:T[c+16>>>2>>>0],Ha:T[c+20>>>2>>>0],Ba:T[c+24>>>2>>>0],Ga:T[c+28>>>2>>>0],Va:T[c+32>>>2>>>0],Ra:T[c+36>>>2>>>0],Ua:se?Y(se):""},i=Y(i),se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ue in se)i=i.replace(new RegExp(ue,"g"),se[ue]);var Ze="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ke="January February March April May June July August September October November December".split(" ");se={"%a":p=>Ze[p.Ba].substring(0,3),"%A":p=>Ze[p.Ba],"%b":p=>Ke[p.Ja].substring(0,3),"%B":p=>Ke[p.Ja],"%C":p=>S((p.Ha+1900)/100|0,2),"%d":p=>S(p.La,2),"%e":p=>w(p.La,2," "),"%g":p=>ce(p).toString().substring(2),"%G":p=>ce(p),"%H":p=>S(p.Ia,2),"%I":p=>(p=p.Ia,p==0?p=12:12<p&&(p-=12),S(p,2)),"%j":p=>{for(var I=0,$=0;$<=p.Ja-1;I+=(Te(p.Ha+1900)?Ve:Je)[$++]);return S(p.La+I,3)},"%m":p=>S(p.Ja+1,2),"%M":p=>S(p.Sa,2),"%n":()=>`\n`,"%p":p=>0<=p.Ia&&12>p.Ia?"AM":"PM","%S":p=>S(p.Ta,2),"%t":()=>"	","%u":p=>p.Ba||7,"%U":p=>S(Math.floor((p.Ga+7-p.Ba)/7),2),"%V":p=>{var I=Math.floor((p.Ga+7-(p.Ba+6)%7)/7);if(2>=(p.Ba+371-p.Ga-2)%7&&I++,I)I==53&&($=(p.Ba+371-p.Ga)%7,$==4||$==3&&Te(p.Ha)||(I=1));else{I=52;var $=(p.Ba+7-p.Ga-1)%7;($==4||$==5&&Te(p.Ha%400-1))&&I++}return S(I,2)},"%w":p=>p.Ba,"%W":p=>S(Math.floor((p.Ga+7-(p.Ba+6)%7)/7),2),"%y":p=>(p.Ha+1900).toString().substring(2),"%Y":p=>p.Ha+1900,"%z":p=>{p=p.Ra;var I=0<=p;return p=Math.abs(p)/60,(I?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.Ua,"%%":()=>"%"},i=i.replace(/%%/g,"\\0\\0");for(ue in se)i.includes(ue)&&(i=i.replace(new RegExp(ue,"g"),se[ue](c)));return i=i.replace(/\\0\\0/g,"%"),ue=$e(i),ue.length>o?0:(ie.set(ue,t>>>0),ue.length-1)}var H={a:function(t,o,i){throw t>>>=0,new Le(t).Ma(o>>>0,i>>>0),pe=t,Ee++,pe},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(t,o,i){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,i>>>=0,t=new Date(1e3*t),T[i>>>2>>>0]=t.getUTCSeconds(),T[i+4>>>2>>>0]=t.getUTCMinutes(),T[i+8>>>2>>>0]=t.getUTCHours(),T[i+12>>>2>>>0]=t.getUTCDate(),T[i+16>>>2>>>0]=t.getUTCMonth(),T[i+20>>>2>>>0]=t.getUTCFullYear()-1900,T[i+24>>>2>>>0]=t.getUTCDay(),T[i+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(t,o,i){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,i>>>=0,t=new Date(1e3*t),T[i>>>2>>>0]=t.getSeconds(),T[i+4>>>2>>>0]=t.getMinutes(),T[i+8>>>2>>>0]=t.getHours(),T[i+12>>>2>>>0]=t.getDate(),T[i+16>>>2>>>0]=t.getMonth(),T[i+20>>>2>>>0]=t.getFullYear()-1900,T[i+24>>>2>>>0]=t.getDay(),T[i+28>>>2>>>0]=(Te(t.getFullYear())?qe:at)[t.getMonth()]+t.getDate()-1|0,T[i+36>>>2>>>0]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var c=new Date(t.getFullYear(),0,1).getTimezoneOffset();T[i+32>>>2>>>0]=(o!=c&&t.getTimezoneOffset()==Math.min(c,o))|0},p:function(t){t>>>=0;var o=new Date(T[t+20>>>2>>>0]+1900,T[t+16>>>2>>>0],T[t+12>>>2>>>0],T[t+8>>>2>>>0],T[t+4>>>2>>>0],T[t>>>2>>>0],0),i=T[t+32>>>2>>>0],c=o.getTimezoneOffset(),w=new Date(o.getFullYear(),6,1).getTimezoneOffset(),S=new Date(o.getFullYear(),0,1).getTimezoneOffset(),F=Math.min(S,w);return 0>i?T[t+32>>>2>>>0]=+(w!=S&&F==c):0<i!=(F==c)&&(w=Math.max(S,w),o.setTime(o.getTime()+6e4*((0<i?F:w)-c))),T[t+24>>>2>>>0]=o.getDay(),T[t+28>>>2>>>0]=(Te(o.getFullYear())?qe:at)[o.getMonth()]+o.getDate()-1|0,T[t>>>2>>>0]=o.getSeconds(),T[t+4>>>2>>>0]=o.getMinutes(),T[t+8>>>2>>>0]=o.getHours(),T[t+12>>>2>>>0]=o.getDate(),T[t+16>>>2>>>0]=o.getMonth(),T[t+20>>>2>>>0]=o.getYear(),t=o.getTime(),isNaN(t)?(T[ze()>>>2>>>0]=61,t=-1):t/=1e3,Xe((Oe=t,1<=+Math.abs(Oe)?0<Oe?+Math.floor(Oe/4294967296)>>>0:~~+Math.ceil((Oe-+(~~Oe>>>0))/4294967296)>>>0:0)),t>>>0},l:function(){return-52},m:function(){},t:function(t,o,i){function c(ce){return(ce=ce.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ce[1]:"GMT"}i>>>=0;var w=new Date().getFullYear(),S=new Date(w,0,1),F=new Date(w,6,1);w=S.getTimezoneOffset();var Z=F.getTimezoneOffset();z[t>>>0>>>2>>>0]=60*Math.max(w,Z),T[o>>>0>>>2>>>0]=+(w!=Z),t=c(S),o=c(F),t=Fe(t),o=Fe(o),Z<w?(z[i>>>2>>>0]=t,z[i+4>>>2>>>0]=o):(z[i>>>2>>>0]=o,z[i+4>>>2>>>0]=t)},d:()=>{x("")},B:function(t,o,i){t>>>=0,o>>>=0,i>>>=0,We.length=0;for(var c;c=te[o++>>>0];){var w=c!=105;w&=c!=112,i+=w&&i%8?4:0,We.push(c==112?z[i>>>2>>>0]:c==105?T[i>>>2>>>0]:Ce[i>>>3>>>0]),i+=w?8:4}return be[t].apply(null,We)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(t,o,i){return o>>>=0,te.copyWithin(t>>>0>>>0,o>>>0,o+(i>>>0)>>>0)},s:function(t){t>>>=0;var o=te.length;if(4294901760<t)return!1;for(var i=1;4>=i;i*=2){var c=o*(1+.2/i);c=Math.min(c,t+100663296);var w=Math;c=Math.max(t,c);e:{w=(w.min.call(w,4294901760,c+(65536-c%65536)%65536)-G.buffer.byteLength+65535)/65536;try{G.grow(w),Pe();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},C:function(t,o){t>>>=0,o>>>=0;var i=0;return He().forEach((c,w)=>{var S=o+i;for(w=z[t+4*w>>>2>>>0]=S,S=0;S<c.length;++S)ie[w++>>>0>>>0]=c.charCodeAt(S);ie[w>>>0>>>0]=0,i+=c.length+1}),0},D:function(t,o){t>>>=0,o>>>=0;var i=He();z[t>>>2>>>0]=i.length;var c=0;return i.forEach(w=>c+=w.length+1),z[o>>>2>>>0]=c,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(t,o,i,c){o>>>=0,i>>>=0,c>>>=0;for(var w=0,S=0;S<i;S++){var F=z[o>>>2>>>0],Z=z[o+4>>>2>>>0];o+=8;for(var ce=0;ce<Z;ce++){var se=te[F+ce>>>0],ue=Ie[t];se===0||se===10?((t===1?v:k)(re(ue,0)),ue.length=0):ue.push(se)}w+=Z}return z[c>>>2>>>0]=w,0},r:ot,c:function(t,o,i,c){return ot(t>>>0,o>>>0,i>>>0,c>>>0)}},A=function(){function t(i){return A=i.exports,A=ut(),G=A.K,Pe(),ne.unshift(A.L),we--,we==0&&(he!==null&&(clearInterval(he),he=null),ae&&(i=ae,ae=null,i())),A}var o={a:H};if(we++,a.instantiateWasm)try{return a.instantiateWasm(o,t)}catch(i){k(`Module.instantiateWasm callback failed with error: ${i}`),f(i)}return Se(o,function(i){t(i.instance)}).catch(f),{}}();a._OrtInit=(t,o)=>(a._OrtInit=A.M)(t,o),a._OrtGetLastError=(t,o)=>(a._OrtGetLastError=A.N)(t,o),a._OrtCreateSessionOptions=(t,o,i,c,w,S,F,Z,ce,se)=>(a._OrtCreateSessionOptions=A.O)(t,o,i,c,w,S,F,Z,ce,se),a._OrtAppendExecutionProvider=(t,o)=>(a._OrtAppendExecutionProvider=A.P)(t,o),a._OrtAddFreeDimensionOverride=(t,o,i)=>(a._OrtAddFreeDimensionOverride=A.Q)(t,o,i),a._OrtAddSessionConfigEntry=(t,o,i)=>(a._OrtAddSessionConfigEntry=A.R)(t,o,i),a._OrtReleaseSessionOptions=t=>(a._OrtReleaseSessionOptions=A.S)(t),a._OrtCreateSession=(t,o,i)=>(a._OrtCreateSession=A.T)(t,o,i),a._OrtReleaseSession=t=>(a._OrtReleaseSession=A.U)(t),a._OrtGetInputOutputCount=(t,o,i)=>(a._OrtGetInputOutputCount=A.V)(t,o,i),a._OrtGetInputName=(t,o)=>(a._OrtGetInputName=A.W)(t,o),a._OrtGetOutputName=(t,o)=>(a._OrtGetOutputName=A.X)(t,o),a._OrtFree=t=>(a._OrtFree=A.Y)(t),a._OrtCreateTensor=(t,o,i,c,w,S)=>(a._OrtCreateTensor=A.Z)(t,o,i,c,w,S),a._OrtGetTensorData=(t,o,i,c,w)=>(a._OrtGetTensorData=A._)(t,o,i,c,w),a._OrtReleaseTensor=t=>(a._OrtReleaseTensor=A.$)(t),a._OrtCreateRunOptions=(t,o,i,c)=>(a._OrtCreateRunOptions=A.aa)(t,o,i,c),a._OrtAddRunConfigEntry=(t,o,i)=>(a._OrtAddRunConfigEntry=A.ba)(t,o,i),a._OrtReleaseRunOptions=t=>(a._OrtReleaseRunOptions=A.ca)(t),a._OrtCreateBinding=t=>(a._OrtCreateBinding=A.da)(t),a._OrtBindInput=(t,o,i)=>(a._OrtBindInput=A.ea)(t,o,i),a._OrtBindOutput=(t,o,i,c)=>(a._OrtBindOutput=A.fa)(t,o,i,c),a._OrtClearBoundOutputs=t=>(a._OrtClearBoundOutputs=A.ga)(t),a._OrtReleaseBinding=t=>(a._OrtReleaseBinding=A.ha)(t),a._OrtRunWithBinding=(t,o,i,c,w)=>(a._OrtRunWithBinding=A.ia)(t,o,i,c,w),a._OrtRun=(t,o,i,c,w,S,F,Z)=>(a._OrtRun=A.ja)(t,o,i,c,w,S,F,Z),a._OrtEndProfiling=t=>(a._OrtEndProfiling=A.ka)(t),a._OrtTrainingLoadCheckpoint=(t,o)=>(a._OrtTrainingLoadCheckpoint=A.la)(t,o),a._OrtTrainingReleaseCheckpoint=t=>(a._OrtTrainingReleaseCheckpoint=A.ma)(t),a._OrtTrainingCreateSession=(t,o,i,c,w,S,F,Z)=>(a._OrtTrainingCreateSession=A.na)(t,o,i,c,w,S,F,Z),a._OrtTrainingLazyResetGrad=t=>(a._OrtTrainingLazyResetGrad=A.oa)(t),a._OrtTrainingRunTrainStep=(t,o,i,c,w,S)=>(a._OrtTrainingRunTrainStep=A.pa)(t,o,i,c,w,S),a._OrtTrainingOptimizerStep=(t,o)=>(a._OrtTrainingOptimizerStep=A.qa)(t,o),a._OrtTrainingEvalStep=(t,o,i,c,w,S)=>(a._OrtTrainingEvalStep=A.ra)(t,o,i,c,w,S),a._OrtTrainingGetParametersSize=(t,o,i)=>(a._OrtTrainingGetParametersSize=A.sa)(t,o,i),a._OrtTrainingCopyParametersToBuffer=(t,o,i,c)=>(a._OrtTrainingCopyParametersToBuffer=A.ta)(t,o,i,c),a._OrtTrainingCopyParametersFromBuffer=(t,o,i,c)=>(a._OrtTrainingCopyParametersFromBuffer=A.ua)(t,o,i,c),a._OrtTrainingGetModelInputOutputCount=(t,o,i,c)=>(a._OrtTrainingGetModelInputOutputCount=A.va)(t,o,i,c),a._OrtTrainingGetModelInputOutputName=(t,o,i,c)=>(a._OrtTrainingGetModelInputOutputName=A.wa)(t,o,i,c),a._OrtTrainingReleaseSession=t=>(a._OrtTrainingReleaseSession=A.xa)(t);var ze=()=>(ze=A.ya)(),it=a._malloc=t=>(it=a._malloc=A.za)(t);a._free=t=>(a._free=A.Aa)(t);var Xe=t=>(Xe=A.Ca)(t),st=()=>(st=A.Da)(),C=t=>(C=A.Ea)(t),ke=t=>(ke=A.Fa)(t);function ut(){var t=A;t=Object.assign({},t);var o=c=>()=>c()>>>0,i=c=>w=>c(w)>>>0;return t.ya=o(t.ya),t.za=i(t.za),t.Da=o(t.Da),t.Fa=i(t.Fa),t}a.stackAlloc=ke,a.stackSave=st,a.stackRestore=C,a.UTF8ToString=Y,a.stringToUTF8=(t,o,i)=>xe(t,te,o,i),a.lengthBytesUTF8=ge;var Re;ae=function t(){Re||Qe(),Re||(ae=t)};function Qe(){if(!(0<we)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;){var t=a.preRun.shift();le.unshift(t)}for(;0<le.length;)le.shift()(a);if(!(0<we||Re||(Re=!0,a.calledRun=!0,W))){for(;0<ne.length;)ne.shift()(a);for(h(a);0<Q.length;)Q.shift()(a)}}}return Qe(),d.ready}})();typeof mr=="object"&&typeof xt=="object"?xt.exports=pr:typeof define=="function"&&define.amd&&define([],()=>pr)});var hr=tt(()=>{});var yr=tt(()=>{});var Or={};Tt(Or,{cpus:()=>rn});var rn,br=Et(()=>{rn=void 0});var _r=tt((vr,Ft)=>{"use strict";var wr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(d={}){function a(){return Q.buffer!=x.buffer&&j(),x}function h(){return Q.buffer!=x.buffer&&j(),ye}function f(){return Q.buffer!=x.buffer&&j(),ve}function b(){return Q.buffer!=x.buffer&&j(),fe}function g(){return Q.buffer!=x.buffer&&j(),_e}var s=d,E,P;s.ready=new Promise((e,r)=>{E=e,P=r});var U=Object.assign({},s),D="./this.program",R=(e,r)=>{throw r},ee=typeof window=="object",B=typeof importScripts=="function",L=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v=s.ENVIRONMENT_IS_PTHREAD||!1,k="";function G(e){return s.locateFile?s.locateFile(e,k):k+e}var W,ie,te;if(L){var T=(Mt(),rt(At)),z=(Dt(),rt(Ct));k=B?z.dirname(k)+"/":__dirname+"/",W=(r,n)=>(r=Y(r)?new URL(r):z.normalize(r),T.readFileSync(r,n?void 0:"utf8")),te=r=>(r=W(r,!0),r.buffer||(r=new Uint8Array(r)),r),ie=(r,n,l,y=!0)=>{r=Y(r)?new URL(r):z.normalize(r),T.readFile(r,y?void 0:"utf8",(O,_)=>{O?l(O):n(y?_.buffer:_)})},!s.thisProgram&&1<process.argv.length&&(D=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),R=(r,n)=>{throw process.exitCode=r,n},s.inspect=()=>"[Emscripten Module object]";let e;try{e=hr()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=e.Worker}else(ee||B)&&(B?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),typeof u<"u"&&u&&(k=u),k.indexOf("blob:")!==0?k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1):k="",L||(W=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},B&&(te=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),ie=(e,r,n)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?r(l.response):n()},l.onerror=n,l.send(null)}));L&&typeof performance>"u"&&(global.performance=yr().performance);var Ce=console.log.bind(console),Pe=console.error.bind(console);L&&(Ce=(...e)=>T.writeSync(1,e.join(" ")+`\n`),Pe=(...e)=>T.writeSync(2,e.join(" ")+`\n`));var le=Ce,ne=Pe;Object.assign(s,U),U=null,typeof WebAssembly!="object"&&De("no native wasm support detected");var Q,we,he=!1,ae,x,ye,ve,fe,_e;function j(){var e=Q.buffer;s.HEAP8=x=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAPU8=ye=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=ve=new Int32Array(e),s.HEAPU32=fe=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=_e=new Float64Array(e)}var de=16777216;if(v)Q=s.wasmMemory;else if(s.wasmMemory)Q=s.wasmMemory;else if(Q=new WebAssembly.Memory({initial:de/65536,maximum:65536,shared:!0}),!(Q.buffer instanceof SharedArrayBuffer))throw ne("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),L&&ne("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");j(),de=Q.buffer.byteLength;var Be=[],Se=[],Oe=[],be=0,Le=null,pe=null;function Ee(){if(be--,be==0&&(Le!==null&&(clearInterval(Le),Le=null),pe)){var e=pe;pe=null,e()}}function De(e){throw e="Aborted("+e+")",ne(e),he=!0,ae=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),P(e),e}var re=e=>e.startsWith("data:application/octet-stream;base64,"),Y=e=>e.startsWith("file://"),ge;ge="ort-wasm-threaded.wasm",re(ge)||(ge=G(ge));function xe(e){if(te)return te(e);throw"both async and sync fetching of the wasm failed"}function Te(e){if(ee||B){if(typeof fetch=="function"&&!Y(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+e+"\'";return r.arrayBuffer()}).catch(()=>xe(e));if(ie)return new Promise((r,n)=>{ie(e,l=>r(new Uint8Array(l)),n)})}return Promise.resolve().then(()=>xe(e))}function qe(e,r,n){return Te(e).then(l=>WebAssembly.instantiate(l,r)).then(l=>l).then(n,l=>{ne(`failed to asynchronously prepare wasm: ${l}`),De(l)})}function at(e,r){var n=ge;return typeof WebAssembly.instantiateStreaming!="function"||re(n)||Y(n)||L||typeof fetch!="function"?qe(n,e,r):fetch(n,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(r,function(y){return ne(`wasm streaming compile failed: ${y}`),ne("falling back to ArrayBuffer instantiation"),qe(n,e,r)}))}var Fe,We={921212:(e,r,n,l)=>{if(typeof s>"u"||!s.cb)return 1;if(e=$e(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=s.cb.get(e),!e)return 2;if(r>>>=0,n>>>=0,l>>>=0,r+n>e.byteLength)return 3;try{return h().set(e.subarray(r,r+n),l>>>0),0}catch{return 4}}};function Ue(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var He=e=>{e.terminate(),e.onmessage=()=>{}},Ge=e=>{C.Pa.length==0&&(Xe(),C.Ya(C.Pa[0]));var r=C.Pa.pop();if(!r)return 6;C.Qa.push(r),C.Ma[e.Oa]=r,r.Oa=e.Oa;var n={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return L&&r.unref(),r.postMessage(n,e.qb),0},Ie=0,Ve=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Je=(e,r,n)=>{r>>>=0;var l=r+n;for(n=r;e[n]&&!(n>=l);)++n;if(16<n-r&&e.buffer&&Ve)return Ve.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,n):e.subarray(r,n));for(l="";r<n;){var y=e[r++];if(y&128){var O=e[r++]&63;if((y&224)==192)l+=String.fromCharCode((y&31)<<6|O);else{var _=e[r++]&63;y=(y&240)==224?(y&15)<<12|O<<6|_:(y&7)<<18|O<<12|_<<6|e[r++]&63,65536>y?l+=String.fromCharCode(y):(y-=65536,l+=String.fromCharCode(55296|y>>10,56320|y&1023))}}else l+=String.fromCharCode(y)}return l},$e=(e,r)=>(e>>>=0)?Je(h(),e,r):"",ot=e=>{var r=vt();return e=e(),ct(r),e};function H(e,r){var n=arguments.length-2,l=arguments;return ot(()=>{for(var y=_t(8*n),O=y>>>3,_=0;_<n;_++){var J=l[2+_];g()[O+_>>>0]=J}return ar(e,n,y,r)})}function A(e){if(v)return H(0,1,e);ae=e,0<Ie||(C.lb(),s.onExit?.(e),he=!0),R(e,new Ue(e))}var ze=e=>{if(ae=e,v)throw ut(e),"unwind";A(e)};function it(){for(var e=s.numThreads;e--;)Xe();Be.unshift(()=>{be++,st(()=>Ee())})}function Xe(){var e=G("ort-wasm-threaded.worker.js");e=new Worker(e),C.Pa.push(e)}function st(e){v?e():Promise.all(C.Pa.map(C.Ya)).then(e)}var C={Pa:[],Qa:[],bb:[],Ma:{},Wa(){v?(C.receiveObjectTransfer=C.jb,C.threadInitTLS=C.ab,C.setExitStatus=C.$a):it()},$a:e=>ae=e,tb:["$terminateWorker"],lb:()=>{for(var e of C.Qa)He(e);for(e of C.Pa)He(e);C.Pa=[],C.Qa=[],C.Ma=[]},Za:e=>{var r=e.Oa;delete C.Ma[r],C.Pa.push(e),C.Qa.splice(C.Qa.indexOf(e),1),e.Oa=0,bt(r)},jb(){},ab(){C.bb.forEach(e=>e())},Ya:e=>new Promise(r=>{e.onmessage=O=>{O=O.data;var _=O.cmd;if(O.targetThread&&O.targetThread!=lt()){var J=C.Ma[O.targetThread];J?J.postMessage(O,O.transferList):ne(`Internal error! Worker sent a message "${_}" to target pthread ${O.targetThread}, but that thread no longer exists!`)}else _==="checkMailbox"?ft():_==="spawnThread"?Ge(O):_==="cleanupThread"?C.Za(C.Ma[O.thread]):_==="killThread"?(O=O.thread,_=C.Ma[O],delete C.Ma[O],He(_),bt(O),C.Qa.splice(C.Qa.indexOf(_),1),_.Oa=0):_==="cancelThread"?C.Ma[O.thread].postMessage({cmd:"cancel"}):_==="loaded"?(e.loaded=!0,L&&!e.Oa&&e.unref(),r(e)):_==="alert"?alert(`Thread ${O.threadId}: ${O.text}`):O.target==="setimmediate"?e.postMessage(O):_==="callHandler"?s[O.handler](...O.args):_&&ne(`worker sent an unknown command ${_}`)},e.onerror=O=>{throw ne(`worker sent an error! ${O.filename}:${O.lineno}: ${O.message}`),O},L&&(e.on("message",O=>e.onmessage({data:O})),e.on("error",O=>e.onerror(O)));var n=[],l=["onExit"],y;for(y of l)s.hasOwnProperty(y)&&n.push(y);e.postMessage({cmd:"load",handlers:n,urlOrBlob:s.mainScriptUrlOrBlob||u,wasmMemory:Q,wasmModule:we})})};s.PThread=C;var ke=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=()=>{var e=lt(),r=b()[e+52>>>2>>>0];e=b()[e+56>>>2>>>0],sr(r,r-e),ct(r)};function ut(e){if(v)return H(1,0,e);ze(e)}var Re=[],Qe;s.invokeEntryPoint=(e,r)=>{var n=Re[e];n||(e>=Re.length&&(Re.length=e+1),Re[e]=n=Qe.get(e)),e=n(r),0<Ie?C.$a(e):wt(e)};function t(e){this.Va=e-24,this.gb=function(r){b()[this.Va+4>>>2>>>0]=r},this.fb=function(r){b()[this.Va+8>>>2>>>0]=r},this.Wa=function(r,n){this.eb(),this.gb(r),this.fb(n)},this.eb=function(){b()[this.Va+16>>>2>>>0]=0}}var o=0,i=0;function c(e,r,n,l){return v?H(2,1,e,r,n,l):w(e,r,n,l)}function w(e,r,n,l){if(e>>>=0,r>>>=0,n>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return ne("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var y=[];return v&&y.length===0?c(e,r,n,l):(e={kb:n,Oa:e,hb:l,qb:y},v?(e.sb="spawnThread",postMessage(e,y),0):Ge(e))}function S(e,r,n){return v?H(3,1,e,r,n):0}function F(e,r){if(v)return H(4,1,e,r)}var Z=e=>{for(var r=0,n=0;n<e.length;++n){var l=e.charCodeAt(n);127>=l?r++:2047>=l?r+=2:55296<=l&&57343>=l?(r+=4,++n):r+=3}return r},ce=(e,r,n,l)=>{if(n>>>=0,!(0<l))return 0;var y=n;l=n+l-1;for(var O=0;O<e.length;++O){var _=e.charCodeAt(O);if(55296<=_&&57343>=_){var J=e.charCodeAt(++O);_=65536+((_&1023)<<10)|J&1023}if(127>=_){if(n>=l)break;r[n++>>>0]=_}else{if(2047>=_){if(n+1>=l)break;r[n++>>>0]=192|_>>6}else{if(65535>=_){if(n+2>=l)break;r[n++>>>0]=224|_>>12}else{if(n+3>=l)break;r[n++>>>0]=240|_>>18,r[n++>>>0]=128|_>>12&63}r[n++>>>0]=128|_>>6&63}r[n++>>>0]=128|_&63}}return r[n>>>0]=0,n-y},se=(e,r,n)=>ce(e,h(),r,n);function ue(e,r){if(v)return H(5,1,e,r)}function Ze(e,r,n){if(v)return H(6,1,e,r,n)}function Ke(e,r,n){return v?H(7,1,e,r,n):0}function p(e,r){if(v)return H(8,1,e,r)}function I(e,r,n){if(v)return H(9,1,e,r,n)}function $(e,r,n,l){if(v)return H(10,1,e,r,n,l)}function Ae(e,r,n,l){if(v)return H(11,1,e,r,n,l)}function et(e,r,n,l){if(v)return H(12,1,e,r,n,l)}function It(e){if(v)return H(13,1,e)}function kt(e,r){if(v)return H(14,1,e,r)}function Nt(e,r,n){if(v)return H(15,1,e,r,n)}function mt(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(f(),e>>>2,e).value.then(ft),e+=128,Atomics.store(f(),e>>>2,1))}s.__emscripten_thread_mailbox_await=mt;var ft=()=>{var e=lt();if(e&&(mt(e),e=or,!he))try{if(e(),!(0<Ie))try{v?wt(ae):ze(ae)}catch(r){r instanceof Ue||r=="unwind"||R(1,r)}}catch(r){r instanceof Ue||r=="unwind"||R(1,r)}};s.checkMailbox=ft;var gt=[],je=e=>e%4===0&&(e%100!==0||e%400===0),Wt=[0,31,60,91,121,152,182,213,244,274,305,335],Ht=[0,31,59,90,120,151,181,212,243,273,304,334];function Gt(e,r,n,l,y,O,_,J){return v?H(16,1,e,r,n,l,y,O,_,J):-52}function $t(e,r,n,l,y,O,_){if(v)return H(17,1,e,r,n,l,y,O,_)}var zt=e=>{var r=Z(e)+1,n=rr(r);return n&&se(e,n,r),n},ht=[],yt={},jt=()=>{if(!Ot){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"},r;for(r in yt)yt[r]===void 0?delete e[r]:e[r]=yt[r];var n=[];for(r in e)n.push(`${r}=${e[r]}`);Ot=n}return Ot},Ot;function Yt(e,r){if(v)return H(18,1,e,r);e>>>=0,r>>>=0;var n=0;return jt().forEach((l,y)=>{var O=r+n;for(y=b()[e+4*y>>>2>>>0]=O,O=0;O<l.length;++O)a()[y++>>>0>>>0]=l.charCodeAt(O);a()[y>>>0>>>0]=0,n+=l.length+1}),0}function qt(e,r){if(v)return H(19,1,e,r);e>>>=0,r>>>=0;var n=jt();b()[e>>>2>>>0]=n.length;var l=0;return n.forEach(y=>l+=y.length+1),b()[r>>>2>>>0]=l,0}function Vt(e){return v?H(20,1,e):52}function Jt(e,r,n,l){return v?H(21,1,e,r,n,l):52}function Xt(e,r,n,l,y){return v?H(22,1,e,r,n,l,y):70}var $r=[null,[],[]];function Qt(e,r,n,l){if(v)return H(23,1,e,r,n,l);r>>>=0,n>>>=0,l>>>=0;for(var y=0,O=0;O<n;O++){var _=b()[r>>>2>>>0],J=b()[r+4>>>2>>>0];r+=8;for(var Me=0;Me<J;Me++){var oe=h()[_+Me>>>0],me=$r[e];oe===0||oe===10?((e===1?le:ne)(Je(me,0)),me.length=0):me.push(oe)}y+=J}return b()[l>>>2>>>0]=y,0}var Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Kt=[31,28,31,30,31,30,31,31,30,31,30,31];function zr(e){var r=Array(Z(e)+1);return ce(e,r,0,r.length),r}var jr=(e,r)=>{a().set(e,r>>>0)};function er(e,r,n,l){function y(m,N,X){for(m=typeof m=="number"?m.toString():m||"";m.length<N;)m=X[0]+m;return m}function O(m,N){return y(m,N,"0")}function _(m,N){function X(cr){return 0>cr?-1:0<cr?1:0}var Ne;return(Ne=X(m.getFullYear()-N.getFullYear()))===0&&(Ne=X(m.getMonth()-N.getMonth()))===0&&(Ne=X(m.getDate()-N.getDate())),Ne}function J(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function Me(m){var N=m.Ra;for(m=new Date(new Date(m.Sa+1900,0,1).getTime());0<N;){var X=m.getMonth(),Ne=(je(m.getFullYear())?Zt:Kt)[X];if(N>Ne-m.getDate())N-=Ne-m.getDate()+1,m.setDate(1),11>X?m.setMonth(X+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else{m.setDate(m.getDate()+N);break}}return X=new Date(m.getFullYear()+1,0,4),N=J(new Date(m.getFullYear(),0,4)),X=J(X),0>=_(N,m)?0>=_(X,m)?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}e>>>=0,r>>>=0,n>>>=0,l>>>=0;var oe=b()[l+40>>>2>>>0];l={ob:f()[l>>>2>>>0],nb:f()[l+4>>>2>>>0],Ta:f()[l+8>>>2>>>0],Xa:f()[l+12>>>2>>>0],Ua:f()[l+16>>>2>>>0],Sa:f()[l+20>>>2>>>0],Na:f()[l+24>>>2>>>0],Ra:f()[l+28>>>2>>>0],ub:f()[l+32>>>2>>>0],mb:f()[l+36>>>2>>>0],pb:oe?$e(oe):""},n=$e(n),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var me in oe)n=n.replace(new RegExp(me,"g"),oe[me]);var fr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lr="January February March April May June July August September October November December".split(" ");oe={"%a":m=>fr[m.Na].substring(0,3),"%A":m=>fr[m.Na],"%b":m=>lr[m.Ua].substring(0,3),"%B":m=>lr[m.Ua],"%C":m=>O((m.Sa+1900)/100|0,2),"%d":m=>O(m.Xa,2),"%e":m=>y(m.Xa,2," "),"%g":m=>Me(m).toString().substring(2),"%G":m=>Me(m),"%H":m=>O(m.Ta,2),"%I":m=>(m=m.Ta,m==0?m=12:12<m&&(m-=12),O(m,2)),"%j":m=>{for(var N=0,X=0;X<=m.Ua-1;N+=(je(m.Sa+1900)?Zt:Kt)[X++]);return O(m.Xa+N,3)},"%m":m=>O(m.Ua+1,2),"%M":m=>O(m.nb,2),"%n":()=>`\n`,"%p":m=>0<=m.Ta&&12>m.Ta?"AM":"PM","%S":m=>O(m.ob,2),"%t":()=>"	","%u":m=>m.Na||7,"%U":m=>O(Math.floor((m.Ra+7-m.Na)/7),2),"%V":m=>{var N=Math.floor((m.Ra+7-(m.Na+6)%7)/7);if(2>=(m.Na+371-m.Ra-2)%7&&N++,N)N==53&&(X=(m.Na+371-m.Ra)%7,X==4||X==3&&je(m.Sa)||(N=1));else{N=52;var X=(m.Na+7-m.Ra-1)%7;(X==4||X==5&&je(m.Sa%400-1))&&N++}return O(N,2)},"%w":m=>m.Na,"%W":m=>O(Math.floor((m.Ra+7-(m.Na+6)%7)/7),2),"%y":m=>(m.Sa+1900).toString().substring(2),"%Y":m=>m.Sa+1900,"%z":m=>{m=m.mb;var N=0<=m;return m=Math.abs(m)/60,(N?"+":"-")+("0000"+(m/60*100+m%60)).slice(-4)},"%Z":m=>m.pb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(me in oe)n.includes(me)&&(n=n.replace(new RegExp(me,"g"),oe[me](l)));return n=n.replace(/\\0\\0/g,"%"),me=zr(n),me.length>r?0:(jr(me,e),me.length-1)}C.Wa();var Yr=[A,ut,c,S,F,ue,Ze,Ke,p,I,$,Ae,et,It,kt,Nt,Gt,$t,Yt,qt,Vt,Jt,Xt,Qt],qr={b:function(e,r,n){throw e>>>=0,new t(e).Wa(r>>>0,n>>>0),o=e,i++,o},L:function(e){nr(e>>>0,!B,1,!ee,131072,!1),C.ab()},j:function(e){e>>>=0,v?postMessage({cmd:"cleanupThread",thread:e}):C.Za(C.Ma[e])},H:w,h:S,S:F,D:ue,F:Ze,T:Ke,Q:p,J:I,P:$,n:Ae,E:et,B:It,R:kt,C:Nt,p:()=>1,z:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>ft()):v?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=C.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,r,n,l){r>>>=0,gt.length=n,l=l>>>0>>>3;for(var y=0;y<n;y++)gt[y]=g()[l+y>>>0];return e=0>e?We[-e-1]:Yr[e],C.ib=r,r=e.apply(null,gt),C.ib=0,r},K:mt,o:function(e){L&&C.Ma[e>>>0].ref()},s:function(e,r,n){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getUTCSeconds(),f()[n+4>>>2>>>0]=e.getUTCMinutes(),f()[n+8>>>2>>>0]=e.getUTCHours(),f()[n+12>>>2>>>0]=e.getUTCDate(),f()[n+16>>>2>>>0]=e.getUTCMonth(),f()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,f()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,f()[n+28>>>2>>>0]=e},t:function(e,r,n){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getSeconds(),f()[n+4>>>2>>>0]=e.getMinutes(),f()[n+8>>>2>>>0]=e.getHours(),f()[n+12>>>2>>>0]=e.getDate(),f()[n+16>>>2>>>0]=e.getMonth(),f()[n+20>>>2>>>0]=e.getFullYear()-1900,f()[n+24>>>2>>>0]=e.getDay(),r=(je(e.getFullYear())?Wt:Ht)[e.getMonth()]+e.getDate()-1|0,f()[n+28>>>2>>>0]=r,f()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=l&&e.getTimezoneOffset()==Math.min(l,r))|0,f()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var r=new Date(f()[e+20>>>2>>>0]+1900,f()[e+16>>>2>>>0],f()[e+12>>>2>>>0],f()[e+8>>>2>>>0],f()[e+4>>>2>>>0],f()[e>>>2>>>0],0),n=f()[e+32>>>2>>>0],l=r.getTimezoneOffset(),y=new Date(r.getFullYear(),6,1).getTimezoneOffset(),O=new Date(r.getFullYear(),0,1).getTimezoneOffset(),_=Math.min(O,y);return 0>n?f()[e+32>>>2>>>0]=+(y!=O&&_==l):0<n!=(_==l)&&(y=Math.max(O,y),r.setTime(r.getTime()+6e4*((0<n?_:y)-l))),f()[e+24>>>2>>>0]=r.getDay(),n=(je(r.getFullYear())?Wt:Ht)[r.getMonth()]+r.getDate()-1|0,f()[e+28>>>2>>>0]=n,f()[e>>>2>>>0]=r.getSeconds(),f()[e+4>>>2>>>0]=r.getMinutes(),f()[e+8>>>2>>>0]=r.getHours(),f()[e+12>>>2>>>0]=r.getDate(),f()[e+16>>>2>>>0]=r.getMonth(),f()[e+20>>>2>>>0]=r.getYear(),e=r.getTime(),isNaN(e)?(f()[tr()>>>2>>>0]=61,e=-1):e/=1e3,ir((Fe=e,1<=+Math.abs(Fe)?0<Fe?+Math.floor(Fe/4294967296)>>>0:~~+Math.ceil((Fe-+(~~Fe>>>0))/4294967296)>>>0:0)),e>>>0},q:Gt,r:$t,y:function(e,r,n){function l(oe){return(oe=oe.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?oe[1]:"GMT"}e>>>=0,r>>>=0,n>>>=0;var y=new Date().getFullYear(),O=new Date(y,0,1),_=new Date(y,6,1);y=O.getTimezoneOffset();var J=_.getTimezoneOffset(),Me=Math.max(y,J);b()[e>>>2>>>0]=60*Me,f()[r>>>2>>>0]=+(y!=J),e=l(O),r=l(_),e=zt(e),r=zt(r),J<y?(b()[n>>>2>>>0]=e,b()[n+4>>>2>>>0]=r):(b()[n>>>2>>>0]=r,b()[n+4>>>2>>>0]=e)},c:()=>{De("")},O:function(e,r,n){e>>>=0,r>>>=0,n>>>=0,ht.length=0;for(var l;l=h()[r++>>>0];){var y=l!=105;y&=l!=112,n+=y&&n%8?4:0,ht.push(l==112?b()[n>>>2>>>0]:l==105?f()[n>>>2>>>0]:g()[n>>>3>>>0]),n+=y?8:4}return We[e].apply(null,ht)},k:()=>{},i:()=>Date.now(),U:()=>{throw Ie+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>L?(br(),rt(Or)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var r=h().length;if(e<=r||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var l=r*(1+.2/n);l=Math.min(l,e+100663296);var y=Math;l=Math.max(e,l);e:{y=(y.min.call(y,4294901760,l+(65536-l%65536)%65536)-Q.buffer.byteLength+65535)/65536;try{Q.grow(y),j();var O=1;break e}catch{}O=void 0}if(O)return!0}return!1},M:Yt,N:qt,G:ze,g:Vt,m:Jt,v:Xt,l:Qt,a:Q||s.wasmMemory,w:er,d:function(e,r,n,l){return er(e>>>0,r>>>0,n>>>0,l>>>0)}},M=function(){function e(n,l){return M=n.exports,M=Vr(),C.bb.push(M.za),Qe=M.Aa,Se.unshift(M.V),we=l,Ee(),M}var r={a:qr};if(be++,s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(n){ne(`Module.instantiateWasm callback failed with error: ${n}`),P(n)}return at(r,function(n){e(n.instance,n.module)}).catch(P),{}}();s._OrtInit=(e,r)=>(s._OrtInit=M.W)(e,r),s._OrtGetLastError=(e,r)=>(s._OrtGetLastError=M.X)(e,r),s._OrtCreateSessionOptions=(e,r,n,l,y,O,_,J,Me,oe)=>(s._OrtCreateSessionOptions=M.Y)(e,r,n,l,y,O,_,J,Me,oe),s._OrtAppendExecutionProvider=(e,r)=>(s._OrtAppendExecutionProvider=M.Z)(e,r),s._OrtAddFreeDimensionOverride=(e,r,n)=>(s._OrtAddFreeDimensionOverride=M._)(e,r,n),s._OrtAddSessionConfigEntry=(e,r,n)=>(s._OrtAddSessionConfigEntry=M.$)(e,r,n),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=M.aa)(e),s._OrtCreateSession=(e,r,n)=>(s._OrtCreateSession=M.ba)(e,r,n),s._OrtReleaseSession=e=>(s._OrtReleaseSession=M.ca)(e),s._OrtGetInputOutputCount=(e,r,n)=>(s._OrtGetInputOutputCount=M.da)(e,r,n),s._OrtGetInputName=(e,r)=>(s._OrtGetInputName=M.ea)(e,r),s._OrtGetOutputName=(e,r)=>(s._OrtGetOutputName=M.fa)(e,r),s._OrtFree=e=>(s._OrtFree=M.ga)(e),s._OrtCreateTensor=(e,r,n,l,y,O)=>(s._OrtCreateTensor=M.ha)(e,r,n,l,y,O),s._OrtGetTensorData=(e,r,n,l,y)=>(s._OrtGetTensorData=M.ia)(e,r,n,l,y),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=M.ja)(e),s._OrtCreateRunOptions=(e,r,n,l)=>(s._OrtCreateRunOptions=M.ka)(e,r,n,l),s._OrtAddRunConfigEntry=(e,r,n)=>(s._OrtAddRunConfigEntry=M.la)(e,r,n),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=M.ma)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=M.na)(e),s._OrtBindInput=(e,r,n)=>(s._OrtBindInput=M.oa)(e,r,n),s._OrtBindOutput=(e,r,n,l)=>(s._OrtBindOutput=M.pa)(e,r,n,l),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=M.qa)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=M.ra)(e),s._OrtRunWithBinding=(e,r,n,l,y)=>(s._OrtRunWithBinding=M.sa)(e,r,n,l,y),s._OrtRun=(e,r,n,l,y,O,_,J)=>(s._OrtRun=M.ta)(e,r,n,l,y,O,_,J),s._OrtEndProfiling=e=>(s._OrtEndProfiling=M.ua)(e);var tr=()=>(tr=M.va)(),lt=s._pthread_self=()=>(lt=s._pthread_self=M.wa)(),rr=s._malloc=e=>(rr=s._malloc=M.xa)(e);s._free=e=>(s._free=M.ya)(e),s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=M.za)();var nr=s.__emscripten_thread_init=(e,r,n,l,y,O)=>(nr=s.__emscripten_thread_init=M.Ba)(e,r,n,l,y,O);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=M.Ca)();var ar=(e,r,n,l)=>(ar=M.Da)(e,r,n,l),bt=e=>(bt=M.Ea)(e),wt=s.__emscripten_thread_exit=e=>(wt=s.__emscripten_thread_exit=M.Fa)(e),or=()=>(or=M.Ga)(),ir=e=>(ir=M.Ha)(e),sr=(e,r)=>(sr=M.Ia)(e,r),vt=()=>(vt=M.Ja)(),ct=e=>(ct=M.Ka)(e),_t=e=>(_t=M.La)(e);function Vr(){var e=M;e=Object.assign({},e);var r=l=>()=>l()>>>0,n=l=>y=>l(y)>>>0;return e.va=r(e.va),e.wa=r(e.wa),e.xa=n(e.xa),e.emscripten_main_runtime_thread_id=r(e.emscripten_main_runtime_thread_id),e.Ja=r(e.Ja),e.La=n(e.La),e}s.wasmMemory=Q,s.stackAlloc=_t,s.stackSave=vt,s.stackRestore=ct,s.keepRuntimeAlive=()=>0<Ie,s.UTF8ToString=$e,s.stringToUTF8=se,s.lengthBytesUTF8=Z,s.ExitStatus=Ue,s.PThread=C;var dt;pe=function e(){dt||ur(),dt||(pe=e)};function ur(){if(!(0<be))if(v)E(s),v||ke(Se),startWorker(s);else{if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Be.unshift(s.preRun.shift());ke(Be),0<be||dt||(dt=!0,s.calledRun=!0,he||(v||ke(Se),E(s),v||ke(Oe)))}}return ur(),d.ready}})();typeof vr=="object"&&typeof Ft=="object"?Ft.exports=wr:typeof define=="function"&&define.amd&&define([],()=>wr)});var Sr=tt((wn,nn)=>{nn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var Tr;Tr=gr();var an=_r(),Rt,Pt=!1,pt=!1,Er=!1,on=u=>{if(u===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+u+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+u+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},sn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},un=(u,d)=>u?"ort-training-wasm-simd.wasm":d?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ar=async u=>{if(Pt)return Promise.resolve();if(pt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Er)throw new Error("previous call to \'initializeWebAssembly()\' failed.");pt=!0;let d=u.initTimeout,a=u.numThreads,h=u.simd,f=on(a),b=h&&sn(),g=u.wasmPaths,s=typeof g=="string"?g:void 0,E=un(b,f),P=typeof g=="object"?g[E]:void 0,U=!1,D=[];if(d>0&&D.push(new Promise(R=>{setTimeout(()=>{U=!0,R()},d)})),D.push(new Promise((R,ee)=>{let B=f?an:Tr,L={locateFile:(v,k)=>f&&v.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Sr()],{type:"text/javascript"})):v.endsWith(".wasm")?P||(s??k)+E:k+v};if(f)if(L.numThreads=a,typeof Blob>"u")L.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let v=`var ortWasmThreaded=${B.toString()};`;L.mainScriptUrlOrBlob=new Blob([v],{type:"text/javascript"})}B(L).then(v=>{pt=!1,Pt=!0,Rt=v,R()},v=>{pt=!1,Er=!0,ee(v)})})),await Promise.race(D),U)throw new Error(`WebAssembly backend initializing failed due to timeout: ${d}ms`)},K=()=>{if(Pt&&Rt)return Rt;throw new Error("WebAssembly is not initialized yet.")};var q=(u,d)=>{let a=K(),h=a.lengthBytesUTF8(u)+1,f=a._malloc(h);return a.stringToUTF8(u,f,h),d.push(f),f},nt=(u,d,a,h)=>{if(typeof u=="object"&&u!==null){if(a.has(u))throw new Error("Circular reference in options");a.add(u)}Object.entries(u).forEach(([f,b])=>{let g=d?d+f:f;if(typeof b=="object")nt(b,g+".",a,h);else if(typeof b=="string"||typeof b=="number")h(g,b.toString());else if(typeof b=="boolean")h(g,b?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof b}`)})},V=u=>{let d=K(),a=d.stackSave();try{let h=d.stackAlloc(8);d._OrtGetLastError(h,h+4);let f=d.HEAP32[h/4],b=d.HEAPU32[h/4+1],g=b?d.UTF8ToString(b):"";throw new Error(`${u} ERROR_CODE: ${f}, ERROR_MESSAGE: ${g}`)}finally{d.stackRestore(a)}};var Mr=u=>{let d=K(),a=0,h=[],f=u||{};try{if(u?.logSeverityLevel===void 0)f.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)f.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(f.terminate=!1);let b=0;return u?.tag!==void 0&&(b=q(u.tag,h)),a=d._OrtCreateRunOptions(f.logSeverityLevel,f.logVerbosityLevel,!!f.terminate,b),a===0&&V("Can\'t create run options."),u?.extra!==void 0&&nt(u.extra,"",new WeakSet,(g,s)=>{let E=q(g,h),P=q(s,h);d._OrtAddRunConfigEntry(a,E,P)!==0&&V(`Can\'t set a run config entry: ${g} - ${s}.`)}),[a,h]}catch(b){throw a!==0&&d._OrtReleaseRunOptions(a),h.forEach(g=>d._free(g)),b}};var fn=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},ln=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},cn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let d=u.extra.session;d.use_ort_model_bytes_directly||(d.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(u.enableMemPattern=!1)},dn=(u,d,a)=>{for(let h of d){let f=typeof h=="string"?h:h.name;switch(f){case"webnn":if(f="WEBNN",typeof h!="string"){let g=h;if(g?.deviceType){let s=q("deviceType",a),E=q(g.deviceType,a);K()._OrtAddSessionConfigEntry(u,s,E)!==0&&V(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let s=g.numThreads;(typeof s!="number"||!Number.isInteger(s)||s<0)&&(s=0);let E=q("numThreads",a),P=q(s.toString(),a);K()._OrtAddSessionConfigEntry(u,E,P)!==0&&V(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let s=q("powerPreference",a),E=q(g.powerPreference,a);K()._OrtAddSessionConfigEntry(u,s,E)!==0&&V(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(f="JS",typeof h!="string"){let g=h;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let s=q("preferredLayout",a),E=q(g.preferredLayout,a);K()._OrtAddSessionConfigEntry(u,s,E)!==0&&V(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${f}`)}let b=q(f,a);K()._OrtAppendExecutionProvider(u,b)!==0&&V(`Can\'t append execution provider: ${f}.`)}},Cr=u=>{let d=K(),a=0,h=[],f=u||{};cn(f);try{let b=fn(f.graphOptimizationLevel??"all"),g=ln(f.executionMode??"sequential"),s=typeof f.logId=="string"?q(f.logId,h):0,E=f.logSeverityLevel??2;if(!Number.isInteger(E)||E<0||E>4)throw new Error(`log serverity level is not valid: ${E}`);let P=f.logVerbosityLevel??0;if(!Number.isInteger(P)||P<0||P>4)throw new Error(`log verbosity level is not valid: ${P}`);let U=typeof f.optimizedModelFilePath=="string"?q(f.optimizedModelFilePath,h):0;if(a=d._OrtCreateSessionOptions(b,!!f.enableCpuMemArena,!!f.enableMemPattern,g,!!f.enableProfiling,0,s,E,P,U),a===0&&V("Can\'t create session options."),f.executionProviders&&dn(a,f.executionProviders,h),f.enableGraphCapture!==void 0){if(typeof f.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${f.enableGraphCapture}`);let D=q("enableGraphCapture",h),R=q(f.enableGraphCapture.toString(),h);d._OrtAddSessionConfigEntry(a,D,R)!==0&&V(`Can\'t set a session config entry: \'enableGraphCapture\' - ${f.enableGraphCapture}.`)}if(f.freeDimensionOverrides)for(let[D,R]of Object.entries(f.freeDimensionOverrides)){if(typeof D!="string")throw new Error(`free dimension override name must be a string: ${D}`);if(typeof R!="number"||!Number.isInteger(R)||R<0)throw new Error(`free dimension override value must be a non-negative integer: ${R}`);let ee=q(D,h);d._OrtAddFreeDimensionOverride(a,ee,R)!==0&&V(`Can\'t set a free dimension override: ${D} - ${R}.`)}return f.extra!==void 0&&nt(f.extra,"",new WeakSet,(D,R)=>{let ee=q(D,h),B=q(R,h);d._OrtAddSessionConfigEntry(a,ee,B)!==0&&V(`Can\'t set a session config entry: ${D} - ${R}.`)}),[a,h]}catch(b){throw a!==0&&d._OrtReleaseSessionOptions(a),h.forEach(g=>d._free(g)),b}};var Ut=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Dr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},Bt=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],xr=u=>{switch(u){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Fr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Rr=u=>u==="float32"||u==="int32"||u==="int64"||u==="bool"||u==="float16"||u==="uint32",Pr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var Ur=async u=>{if(typeof u=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(u))}catch(d){if(d.code==="ERR_FS_FILE_TOO_LARGE"){let a=(void 0)(u),h=[];for await(let f of a)h.push(f);return new Uint8Array(Buffer.concat(h))}throw d}else{let d=await fetch(u);if(!d.ok)throw new Error(`failed to load external data file: ${u}`);let a=d.headers.get("Content-Length"),h=a?parseInt(a,10):0;if(h<1073741824)return new Uint8Array(await d.arrayBuffer());{if(!d.body)throw new Error(`failed to load external data file: ${u}, no response body.`);let f=d.body.getReader(),b;try{b=new ArrayBuffer(h)}catch(s){if(s instanceof RangeError){let E=Math.ceil(h/65536);b=new WebAssembly.Memory({initial:E,maximum:E}).buffer}else throw s}let g=0;for(;;){let{done:s,value:E}=await f.read();if(s)break;let P=E.byteLength;new Uint8Array(b,g,P).set(E),g+=P}return new Uint8Array(b,0,h)}}else return u instanceof Blob?new Uint8Array(await u.arrayBuffer()):u instanceof Uint8Array?u:new Uint8Array(u)};var pn=(u,d)=>{K()._OrtInit(u,d)!==0&&V("Can\'t initialize onnxruntime.")},Lr=async u=>{pn(u.wasm.numThreads,Fr(u.logLevel))},Ir=async(u,d)=>{},Ye=new Map,mn=u=>{let d=K(),a=d.stackSave();try{let h=d.stackAlloc(8);return d._OrtGetInputOutputCount(u,h,h+4)!==0&&V("Can\'t get session input/output count."),[d.HEAP32[h/4],d.HEAP32[h/4+1]]}finally{d.stackRestore(a)}},Lt=u=>{let d=K(),a=d._malloc(u.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return d.HEAPU8.set(u,a),[a,u.byteLength]},kr=async(u,d)=>{let a,h,f=K();Array.isArray(u)?[a,h]=u:u.buffer===f.HEAPU8.buffer?[a,h]=[u.byteOffset,u.byteLength]:[a,h]=Lt(u);let b=0,g=0,s=0,E=[],P=[],U=[];try{if([g,E]=Cr(d),d?.externalData&&f.mountExternalData){let G=[];for(let W of d.externalData){let ie=typeof W=="string"?W:W.path;G.push(Ur(typeof W=="string"?W:W.data).then(te=>{f.mountExternalData(ie,te)}))}await Promise.all(G)}b=await f._OrtCreateSession(a,h,g),b===0&&V("Can\'t create a session.");let[D,R]=mn(b),ee=!!d?.enableGraphCapture,B=[],L=[],v=[];for(let G=0;G<D;G++){let W=f._OrtGetInputName(b,G);W===0&&V("Can\'t get an input name."),P.push(W),B.push(f.UTF8ToString(W))}for(let G=0;G<R;G++){let W=f._OrtGetOutputName(b,G);W===0&&V("Can\'t get an output name."),U.push(W);let ie=f.UTF8ToString(W);L.push(ie)}let k=null;return Ye.set(b,[b,P,U,k,ee,!1]),[b,B,L]}catch(D){throw P.forEach(R=>f._OrtFree(R)),U.forEach(R=>f._OrtFree(R)),s!==0&&f._OrtReleaseBinding(s),b!==0&&f._OrtReleaseSession(b),D}finally{f._free(a),g!==0&&f._OrtReleaseSessionOptions(g),E.forEach(D=>f._free(D)),f.unmountExternalData?.()}},Nr=u=>{let d=K(),a=Ye.get(u);if(!a)throw new Error(`cannot release session. invalid session id: ${u}`);let[h,f,b,g,s]=a;g&&(s&&d._OrtClearBoundOutputs(g.handle),d._OrtReleaseBinding(g.handle)),d.jsepOnReleaseSession?.(u),f.forEach(E=>d._OrtFree(E)),b.forEach(E=>d._OrtFree(E)),d._OrtReleaseSession(h),Ye.delete(u)},Br=(u,d,a,h,f,b=!1)=>{if(!u){d.push(0);return}let g=K(),s=u[0],E=u[1],P=u[3],U,D;if(s==="string"&&P==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(b&&P!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${f} when enableGraphCapture is true.`);if(P==="gpu-buffer"){let B=u[2].gpuBuffer,L=Bt(Ut(s));D=E.reduce((v,k)=>v*k,1)*L,U=g.jsepRegisterBuffer(h,f,B,D)}else{let B=u[2];if(Array.isArray(B)){D=4*B.length,U=g._malloc(D),a.push(U);let L=U/4;for(let v=0;v<B.length;v++){if(typeof B[v]!="string")throw new TypeError(`tensor data at index ${v} is not a string`);g.HEAPU32[L++]=q(B[v],a)}}else D=B.byteLength,U=g._malloc(D),a.push(U),g.HEAPU8.set(new Uint8Array(B.buffer,B.byteOffset,D),U)}let R=g.stackSave(),ee=g.stackAlloc(4*E.length);try{let B=ee/4;E.forEach(v=>g.HEAP32[B++]=v);let L=g._OrtCreateTensor(Ut(s),U,D,ee,E.length,Pr(P));L===0&&V(`Can\'t create tensor for input/output. session=${h}, index=${f}.`),d.push(L)}finally{g.stackRestore(R)}},Wr=async(u,d,a,h,f,b)=>{let g=K(),s=Ye.get(u);if(!s)throw new Error(`cannot run inference. invalid session id: ${u}`);let E=s[0],P=s[1],U=s[2],D=s[3],R=s[4],ee=s[5],B=d.length,L=h.length,v=0,k=[],G=[],W=[],ie=[],te=g.stackSave(),T=g.stackAlloc(B*4),z=g.stackAlloc(B*4),Ce=g.stackAlloc(L*4),Pe=g.stackAlloc(L*4);try{[v,k]=Mr(b);for(let x=0;x<B;x++)Br(a[x],G,ie,u,d[x],R);for(let x=0;x<L;x++)Br(f[x],W,ie,u,B+h[x],R);let le=T/4,ne=z/4,Q=Ce/4,we=Pe/4;for(let x=0;x<B;x++)g.HEAPU32[le++]=G[x],g.HEAPU32[ne++]=P[d[x]];for(let x=0;x<L;x++)g.HEAPU32[Q++]=W[x],g.HEAPU32[we++]=U[h[x]];g.jsepOnRunStart?.(E);let he;he=await g._OrtRun(E,z,T,B,Pe,L,Ce,v),he!==0&&V("failed to call OrtRun().");let ae=[];for(let x=0;x<L;x++){let ye=g.HEAPU32[Ce/4+x];if(ye===W[x]){ae.push(f[x]);continue}let ve=g.stackSave(),fe=g.stackAlloc(4*4),_e=!1,j,de=0;try{g._OrtGetTensorData(ye,fe,fe+4,fe+8,fe+12)!==0&&V(`Can\'t access output tensor data on index ${x}.`);let Se=fe/4,Oe=g.HEAPU32[Se++];de=g.HEAPU32[Se++];let be=g.HEAPU32[Se++],Le=g.HEAPU32[Se++],pe=[];for(let re=0;re<Le;re++)pe.push(g.HEAPU32[be/4+re]);g._OrtFree(be);let Ee=pe.reduce((re,Y)=>re*Y,1);j=Dr(Oe);let De=D?.outputPreferredLocations[h[x]];if(j==="string"){if(De==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let re=[],Y=de/4;for(let ge=0;ge<Ee;ge++){let xe=g.HEAPU32[Y++],Te=ge===Ee-1?void 0:g.HEAPU32[Y]-xe;re.push(g.UTF8ToString(xe,Te))}ae.push([j,pe,re,"cpu"])}else if(De==="gpu-buffer"&&Ee>0){let re=g.jsepGetBuffer(de),Y=Bt(Oe);if(Y===void 0||!Rr(j))throw new Error(`Unsupported data type: ${j}`);_e=!0,ae.push([j,pe,{gpuBuffer:re,download:g.jsepCreateDownloader(re,Ee*Y,j),dispose:()=>{g._OrtReleaseTensor(ye)}},"gpu-buffer"])}else{let re=xr(j),Y=new re(Ee);new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength).set(g.HEAPU8.subarray(de,de+Y.byteLength)),ae.push([j,pe,Y,"cpu"])}}finally{g.stackRestore(ve),j==="string"&&de&&g._free(de),_e||g._OrtReleaseTensor(ye)}}return D&&!R&&(g._OrtClearBoundOutputs(D.handle),Ye.set(u,[E,P,U,D,R,!1])),ae}finally{g.stackRestore(te),G.forEach(le=>g._OrtReleaseTensor(le)),W.forEach(le=>g._OrtReleaseTensor(le)),ie.forEach(le=>g._free(le)),v!==0&&g._OrtReleaseRunOptions(v),k.forEach(le=>g._free(le))}},Hr=u=>{let d=K(),a=Ye.get(u);if(!a)throw new Error("invalid session id");let h=a[0],f=d._OrtEndProfiling(h);f===0&&V("Can\'t get an profile file name."),d._OrtFree(f)},Gr=u=>{let d=[];for(let a of u){let h=a[2];!Array.isArray(h)&&"buffer"in h&&d.push(h.buffer)}return d};self.onmessage=u=>{let{type:d,in:a}=u.data;try{switch(d){case"init-wasm":Ar(a.wasm).then(()=>{Lr(a).then(()=>{postMessage({type:d})},h=>{postMessage({type:d,err:h})})},h=>{postMessage({type:d,err:h})});break;case"init-ep":{let{epName:h,env:f}=a;Ir(f,h).then(()=>{postMessage({type:d})},b=>{postMessage({type:d,err:b})});break}case"copy-from":{let{buffer:h}=a,f=Lt(h);postMessage({type:d,out:f});break}case"create":{let{model:h,options:f}=a;kr(h,f).then(b=>{postMessage({type:d,out:b})},b=>{postMessage({type:d,err:b})});break}case"release":Nr(a),postMessage({type:d});break;case"run":{let{sessionId:h,inputIndices:f,inputs:b,outputIndices:g,options:s}=a;Wr(h,f,b,g,new Array(g.length).fill(null),s).then(E=>{E.some(P=>P[3]!=="cpu")?postMessage({type:d,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:d,out:E},Gr(E))},E=>{postMessage({type:d,err:E})});break}case"end-profiling":Hr(a),postMessage({type:d});break;default:}}catch(h){postMessage({type:d,err:h})}};})();\n'});var Ke,ve,xt,nr,ar,Fr,Lr,dt,pt,go,rr,ga,ya,wa,ba,Oa,va,Ta,kr=$(()=>{"use strict";Qe();tr();Ze();Ke=()=>!!V.wasm.proxy&&typeof document<"u",xt=!1,nr=!1,ar=!1,Lr=new Map,dt=(n,r)=>{let t=Lr.get(n);t?t.push(r):Lr.set(n,[r])},pt=()=>{if(xt||!nr||ar||!ve)throw new Error("worker not ready")},go=n=>{switch(n.data.type){case"init-wasm":xt=!1,n.data.err?(ar=!0,Fr[1](n.data.err)):(nr=!0,Fr[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let r=Lr.get(n.data.type);n.data.err?r.shift()[1](n.data.err):r.shift()[0](n.data.out);break}default:}},rr=typeof document<"u"?document?.currentScript?.src:void 0,ga=async()=>{if(!nr){if(xt)throw new Error("multiple calls to 'initWasm()' detected.");if(ar)throw new Error("previous call to 'initWasm()' failed.");if(xt=!0,Ke())return V.wasm.wasmPaths===void 0&&rr&&rr.indexOf("blob:")!==0&&(V.wasm.wasmPaths=rr.substr(0,+rr.lastIndexOf("/")+1)),new Promise((n,r)=>{ve?.terminate();let t=URL.createObjectURL(new Blob([ha()],{type:"text/javascript"}));ve=new Worker(t,{name:"ort-wasm-proxy-worker"}),ve.onerror=a=>r(a),ve.onmessage=go,URL.revokeObjectURL(t),Fr=[n,r];let u={type:"init-wasm",in:V};ve.postMessage(u)});try{await sa(V.wasm),await ua(V),nr=!0}catch(n){throw ar=!0,n}finally{xt=!1}}},ya=async n=>{if(Ke())return pt(),new Promise((r,t)=>{dt("init-ep",[r,t]);let u={type:"init-ep",in:{epName:n,env:V}};ve.postMessage(u)});await la(V,n)},wa=async n=>Ke()?(pt(),new Promise((r,t)=>{dt("copy-from",[r,t]);let u={type:"copy-from",in:{buffer:n}};ve.postMessage(u,[n.buffer])})):Pt(n),ba=async(n,r)=>{if(Ke()){if(r?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return pt(),new Promise((t,u)=>{dt("create",[t,u]);let a={type:"create",in:{model:n,options:r}},d=[];n instanceof Uint8Array&&d.push(n.buffer),ve.postMessage(a,d)})}else return fa(n,r)},Oa=async n=>{if(Ke())return pt(),new Promise((r,t)=>{dt("release",[r,t]);let u={type:"release",in:n};ve.postMessage(u)});ca(n)},va=async(n,r,t,u,a,d)=>{if(Ke()){if(t.some(l=>l[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(a.some(l=>l))throw new Error("pre-allocated output tensor is not supported for proxy.");return pt(),new Promise((l,s)=>{dt("run",[l,s]);let h=t,m={type:"run",in:{sessionId:n,inputIndices:r,inputs:h,outputIndices:u,options:d}};ve.postMessage(m,ma(h))})}else return da(n,r,t,u,a,d)},Ta=async n=>{if(Ke())return pt(),new Promise((r,t)=>{dt("end-profiling",[r,t]);let u={type:"end-profiling",in:n};ve.postMessage(u)});pa(n)}});var et,sr,or,Nr=$(()=>{"use strict";Qe();kr();Kt();Ur();et=(n,r)=>{switch(n.location){case"cpu":return[n.type,n.dims,n.data,"cpu"];case"gpu-buffer":return[n.type,n.dims,{gpuBuffer:n.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${n.location} for ${r()}`)}},sr=n=>{switch(n[3]){case"cpu":return new de(n[0],n[2],n[1]);case"gpu-buffer":{let r=n[0];if(!Zt(r))throw new Error(`not supported data type: ${r} for deserializing GPU tensor`);let{gpuBuffer:t,download:u,dispose:a}=n[2];return de.fromGpuBuffer(t,{dataType:r,dims:n[1],download:u,dispose:a})}default:throw new Error(`invalid data location: ${n[3]}`)}},or=class{async fetchModelAndCopyToWasmMemory(r){return wa(await Rt(r))}async loadModel(r,t){Je();let u;typeof r=="string"?typeof process<"u"&&process.versions&&process.versions.node?u=await Rt(r):u=await this.fetchModelAndCopyToWasmMemory(r):u=r,[this.sessionId,this.inputNames,this.outputNames]=await ba(u,t),Xe()}async dispose(){return Oa(this.sessionId)}async run(r,t,u){Je();let a=[],d=[];Object.entries(r).forEach(b=>{let M=b[0],R=b[1],A=this.inputNames.indexOf(M);if(A===-1)throw new Error(`invalid input '${M}'`);a.push(R),d.push(A)});let l=[],s=[];Object.entries(t).forEach(b=>{let M=b[0],R=b[1],A=this.outputNames.indexOf(M);if(A===-1)throw new Error(`invalid output '${M}'`);l.push(R),s.push(A)});let h=a.map((b,M)=>et(b,()=>`input "${this.inputNames[d[M]]}"`)),m=l.map((b,M)=>b?et(b,()=>`output "${this.outputNames[s[M]]}"`):null),y=await va(this.sessionId,d,h,s,m,u),O={};for(let b=0;b<y.length;b++)O[this.outputNames[s[b]]]=l[b]??sr(y[b]);return Xe(),O}startProfiling(){}endProfiling(){Ta(this.sessionId)}}});var yo,ir,_a=$(()=>{"use strict";Qe();kr();Nr();yo=()=>{if((typeof V.wasm.initTimeout!="number"||V.wasm.initTimeout<0)&&(V.wasm.initTimeout=0),typeof V.wasm.simd!="boolean"&&(V.wasm.simd=!0),typeof V.wasm.proxy!="boolean"&&(V.wasm.proxy=!1),typeof V.wasm.trace!="boolean"&&(V.wasm.trace=!1),typeof V.wasm.numThreads!="number"||!Number.isInteger(V.wasm.numThreads)||V.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(V.wasm.numThreads=1);let n=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;V.wasm.numThreads=Math.min(4,Math.ceil((n||1)/2))}},ir=class{async init(r){yo(),await ga(),await ya(r)}async createInferenceSessionHandler(r,t){let u=new or;return await u.loadModel(r,t),Promise.resolve(u)}}});var Ae,be,Sa,wo,Ea,Hr,Aa,ur,Ma,Ca,Ra,Pa,xa,Wr,Ia,Da,Ba,Ua=$(()=>{"use strict";Ir();Dr();Kt();tr();Ze();At();Ae="Built without training API's enabled. Use the onnxruntime-web/training import for training functionality, and make sure that all the correct artifacts are built & moved to the correct folder if using a custom build. Check https://onnxruntime.ai/docs/build/web.html for more information.",be=(n,r,t=!0)=>{t&&n!==0?X(r):!t&&n===0&&X(r)},Sa=n=>{let r=W(),[t,u]=n,a=0;try{if(r._OrtTrainingLoadCheckpoint)a=r._OrtTrainingLoadCheckpoint(t,u);else throw new Error(Ae);return be(a,"Error occurred when trying to create a CheckpointState",!1),a}catch(d){throw r._OrtTrainingReleaseCheckpoint&&a!==0&&r._OrtTrainingReleaseCheckpoint(a),d}finally{r._OrtFree(n[0])}},wo=(n,r)=>{let t=W(),u=t.stackSave();try{let a=t.stackAlloc(8);if(t._OrtTrainingGetModelInputOutputCount){let d=t._OrtTrainingGetModelInputOutputCount(n,a,a+4,r);return be(d,"Can't get session input/output count."),[t.HEAP32[a/4],t.HEAP32[a/4+1]]}else throw new Error(Ae)}finally{t.stackRestore(u)}},Ea=(n,r,t,u)=>{let a=[],d=W();for(let l=0;l<r;l++)if(d._OrtTrainingGetModelInputOutputName){let s=d._OrtTrainingGetModelInputOutputName(n,l,t,u);be(s,`Can't get input or output name -- is input: ${t}, index ${l}`,!1),a.push(d.UTF8ToString(s)),d._free(s)}else throw new Error(Ae);return a},Hr=(n,r)=>{let t=[],u=[],[a,d]=wo(n,r);return t=Ea(n,a,!0,r),u=Ea(n,d,!1,r),[t,u]},Aa=(n,r,t,u,a)=>{let d=W(),l=0,s=0,h=[];try{if([s,h]=Xt(a),d._OrtTrainingCreateSession)l=d._OrtTrainingCreateSession(s,n,r[0],r[1],t[0],t[1],u[0],u[1]);else throw new Error(Ae);return be(l,"Error occurred when trying to create a TrainingSession",!1),l}catch(m){throw d._OrtTrainingReleaseSession&&l!==0&&d._OrtTrainingReleaseSession(l),m}finally{d._free(r[0]),d._free(t[0]),d._free(u[0]),s!==0&&d._OrtReleaseSessionOptions(s),h.forEach(m=>d._free(m))}},ur=(n,r,t,u,a,d)=>{let l=r.length;for(let y=0;y<l;y++)er(t[y],u,a,n,d+r[y]);let s=W(),h=s.stackAlloc(l*4),m=h/4;for(let y=0;y<l;y++)s.HEAPU32[m++]=u[y];return h},Ma=(n,r,t,u)=>{let a=W(),d=[];for(let l=0;l<r;l++){let s=a.HEAPU32[n/4+l];if(s===t[l]){d.push(u[l]);continue}let h=a.stackSave(),m=a.stackAlloc(4*4),y,O=0;try{let b=a._OrtGetTensorData(s,m,m+4,m+8,m+12);be(b,`Can't access output tensor data on index ${l}.`);let M=m/4,R=a.HEAPU32[M++];O=a.HEAPU32[M++];let A=a.HEAPU32[M++],S=a.HEAPU32[M++],U=[];for(let L=0;L<S;L++)U.push(a.HEAPU32[A/4+L]);a._OrtFree(A);let k=U.reduce((L,G)=>L*G,1);if(y=Qt(R),y==="string"){let L=[],G=O/4;for(let j=0;j<k;j++){let x=a.HEAPU32[G++],q=j===k-1?void 0:a.HEAPU32[G]-x;L.push(a.UTF8ToString(x,q))}d.push([y,U,L,"cpu"])}else{let L=Mt(y),G=new L(k);new Uint8Array(G.buffer,G.byteOffset,G.byteLength).set(a.HEAPU8.subarray(O,O+G.byteLength)),d.push([y,U,G,"cpu"])}}finally{a.stackRestore(h),y==="string"&&O&&a._free(O),a._OrtReleaseTensor(s)}}return d},Ca=async n=>{let r=W();if(r._OrtTrainingLazyResetGrad){let t=r._OrtTrainingLazyResetGrad(n);be(t,"Can't call lazyResetGrad.")}else throw new Error(Ae)},Ra=async(n,r,t,u,a,d)=>{let l=W(),s=r.length,h=u.length,m=0,y=[],O=[],b=[],M=[],R=l.stackSave();try{[m,y]=lt(d);let A=ur(n,r,t,O,M,0),S=ur(n,u,a,b,M,s);if(l._OrtTrainingRunTrainStep){let U=l._OrtTrainingRunTrainStep(n,A,s,S,h,m);be(U,"failed to call OrtTrainingRunTrainStep in the WebAssembly layer")}else throw new Error(Ae);return Ma(S,h,b,a)}finally{l.stackRestore(R),O.forEach(A=>l._OrtReleaseTensor(A)),b.forEach(A=>l._OrtReleaseTensor(A)),M.forEach(A=>l._free(A)),m!==0&&l._OrtReleaseRunOptions(m),y.forEach(A=>l._free(A))}},Pa=async(n,r)=>{let t=W(),u=0,a=[];try{if([u,a]=lt(r),t._OrtTrainingOptimizerStep){let d=t._OrtTrainingOptimizerStep(n,u);be(d,"Failed to call OrtTrainingOptimizerStep in the WebAssembly layer")}else throw new Error(Ae)}finally{u!==0&&t._OrtReleaseRunOptions(u),a.forEach(d=>t._free(d))}},xa=async(n,r,t,u,a,d)=>{let l=W(),s=r.length,h=u.length,m=0,y=[],O=[],b=[],M=[],R=l.stackSave();try{[m,y]=lt(d);let A=ur(n,r,t,O,M,0),S=ur(n,u,a,b,M,s);if(l._OrtTrainingEvalStep){let U=l._OrtTrainingEvalStep(n,A,s,S,h,m);be(U,"failed to call OrtTrainingEvalStep in the WebAssembly layer")}else throw new Error(Ae);return Ma(S,h,b,a)}finally{l.stackRestore(R),O.forEach(A=>l._OrtReleaseTensor(A)),b.forEach(A=>l._OrtReleaseTensor(A)),M.forEach(A=>l._free(A)),m!==0&&l._OrtReleaseRunOptions(m),y.forEach(A=>l._free(A))}},Wr=(n,r)=>{let t=W(),u=t.stackSave();try{let a=t.stackAlloc(4);if(t._OrtTrainingGetParametersSize){let d=t._OrtTrainingGetParametersSize(n,a,r);return be(d,"Can't get parameters size"),t.HEAP32[a/4]}else throw new Error(Ae)}finally{t.stackRestore(u)}},Ia=async(n,r)=>{let t=W(),u=t.stackSave(),a="float32",d="cpu",l=Wr(n,r),s=0,h=4*l,m=t._malloc(h),y=[l],O=t.stackAlloc(4),b=O/4;t.HEAP32[b]=l;try{if(s=t._OrtCreateTensor(ft(a),m,h,O,y.length,Ct(d)),be(s,`Can't create tensor for getContiguousParameters. session=${n}.`,!1),t._OrtTrainingCopyParametersToBuffer){let S=t._OrtTrainingCopyParametersToBuffer(n,s,l,r);be(S,"Can't get contiguous parameters.")}else throw new Error(Ae);let M=Mt(a),R=new M(l),A=[];if(new Uint8Array(R.buffer,R.byteOffset,R.byteLength).set(t.HEAPU8.subarray(m,m+h)),A.push([a,y,R,d]),A.length!==1)throw new Error(`something unexpected happened in the getContiguousParameters function. Expected output length of
     one, got ${A.length}`);return A[0]}finally{s!==0&&t._OrtReleaseTensor(s),t._free(m),t._free(O),t.stackRestore(u)}},Da=async(n,r,t)=>{let u=W(),a=u.stackSave(),d="float32",l="cpu",s=r.length,h=s/4,m=u._malloc(s);u.HEAPU8.set(r,m);let y=u.stackAlloc(4);u.HEAP32[y/4]=h;let O=1,b=0;try{if(b=u._OrtCreateTensor(ft(d),m,s,y,O,Ct(l)),be(b,`Can't create tensor for input/output. session=${n}`,!1),u._OrtTrainingCopyParametersFromBuffer){let M=u._OrtTrainingCopyParametersFromBuffer(n,b,h,t);be(M,"Can't copy buffer to parameters.")}else throw new Error(Ae)}finally{b!==0&&u._OrtReleaseTensor(b),u.stackRestore(a),u._free(m),u._free(y)}},Ba=(n,r)=>{let t=W();t._OrtTrainingReleaseSession&&t._OrtTrainingReleaseSession(r),t._OrtTrainingReleaseCheckpoint&&t._OrtTrainingReleaseCheckpoint(n)}});var lr,Fa=$(()=>{"use strict";Nr();tr();Ua();lr=class{constructor(){this.evalInputNames=[];this.evalOutputNames=[]}async uriOrBufferToHeap(r){let t;if(typeof r=="string"){let a=await(await fetch(r)).arrayBuffer();t=new Uint8Array(a)}else t=r;return Pt(t)}async createTrainingSession(r,t,u,a,d){let l=await this.uriOrBufferToHeap(r),s=await this.uriOrBufferToHeap(t),h=[0,0],m=[0,0];u!==""&&(h=await this.uriOrBufferToHeap(u)),a!==""&&(m=await this.uriOrBufferToHeap(a)),this.checkpointId=Sa(l),this.sessionId=Aa(this.checkpointId,s,h,m,d),[this.inputNames,this.outputNames]=Hr(this.sessionId,!1),u!==""&&([this.evalInputNames,this.evalOutputNames]=Hr(this.sessionId,!0))}convertMapIntoValuesArrayAndIndicesArray(r,t,u){let a=[],d=[];Object.entries(r).forEach(s=>{let h=s[0],m=s[1],y=t.indexOf(h);if(y===-1)throw new Error(`invalid input '${h}`);a.push(m),d.push(y)});let l=a.map(u);return[a,d,l]}convertTensorMetadataToReturnType(r,t,u){let a={};for(let d=0;d<r.length;d++)a[this.outputNames[u[d]]]=t[d]??sr(r[d]);return a}async lazyResetGrad(){await Ca(this.sessionId)}async runTrainStep(r,t,u){let[,a,d]=this.convertMapIntoValuesArrayAndIndicesArray(r,this.inputNames,(y,O)=>et(y,()=>`input "${this.inputNames[a[O]]}"`)),[l,s,h]=this.convertMapIntoValuesArrayAndIndicesArray(t,this.outputNames,(y,O)=>y?et(y,()=>`output "${this.outputNames[s[O]]}"`):null),m=await Ra(this.sessionId,a,d,s,h,u);return this.convertTensorMetadataToReturnType(m,l,s)}async runOptimizerStep(r){await Pa(this.sessionId,r)}async runEvalStep(r,t,u){let[,a,d]=this.convertMapIntoValuesArrayAndIndicesArray(r,this.evalInputNames,(y,O)=>et(y,()=>`input "${this.evalInputNames[a[O]]}"`)),[l,s,h]=this.convertMapIntoValuesArrayAndIndicesArray(t,this.evalOutputNames,(y,O)=>y?et(y,()=>`output "${this.evalOutputNames[s[O]]}"`):null),m=await xa(this.sessionId,a,d,s,h,u);return this.convertTensorMetadataToReturnType(m,l,s)}async getParametersSize(r){return Wr(this.sessionId,r)}async loadParametersBuffer(r,t){await Da(this.sessionId,r,t)}async getContiguousParameters(r){let t=await Ia(this.sessionId,r);return sr(t)}async dispose(){return Ba(this.checkpointId,this.sessionId)}}});var La={};Tt(La,{wasmBackend:()=>bo});var Gr,bo,ka=$(()=>{"use strict";_a();Fa();Gr=class extends ir{async createTrainingSessionHandler(r,t,u,a,d){let l=new lr;return await l.createTrainingSession(r,t,u,a,d),Promise.resolve(l)}},bo=new Gr});Qe();Qe();Qe();var jn="1.18.0";var pi=_r;{let n=(ka(),ut(La)).wasmBackend;_t("cpu",n,10),_t("wasm",n,10)}Object.defineProperty(V.versions,"web",{value:jn,enumerable:!0});export{Ja as InferenceSession,kn as TRACE,Je as TRACE_FUNC_BEGIN,Xe as TRACE_FUNC_END,de as Tensor,Qa as TrainingSession,pi as default,V as env,_t as registerBackend};
//# sourceMappingURL=ort.training.wasm.min.js.map
